!function(e,t){"use strict";function n(e,n,a){o.directive(e,["$parse","$swipe",function(o,r){var i=75,s=.3,l=30;return function(c,u,d){function h(e){if(!p)return!1;var t=Math.abs(e.y-p.y),o=(e.x-p.x)*n;return f&&i>t&&o>0&&o>l&&s>t/o}var p,f,g=o(d[e]),m=["touch"];t.isDefined(d.ngSwipeDisableMouse)||m.push("mouse"),r.bind(u,{start:function(e,t){p=e,f=!0},cancel:function(e){f=!1},end:function(e,t){h(e)&&c.$apply(function(){u.triggerHandler(a),g(c,{$event:t})})}},m)}}])}var o=t.module("ngTouch",[]);o.info({angularVersion:"1.7.8"}),o.factory("$swipe",[function(){function e(e){var t=e.originalEvent||e,n=t.touches&&t.touches.length?t.touches:[t],o=t.changedTouches&&t.changedTouches[0]||n[0];return{x:o.clientX,y:o.clientY}}function n(e,n){var o=[];return t.forEach(e,function(e){var t=a[e][n];t&&o.push(t)}),o.join(" ")}var o=10,a={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"},pointer:{start:"pointerdown",move:"pointermove",end:"pointerup",cancel:"pointercancel"}};return{bind:function(t,a,r){var i,s,l,c,u=!1;r=r||["mouse","touch","pointer"],t.on(n(r,"start"),function(t){l=e(t),u=!0,i=0,s=0,c=l,a.start&&a.start(l,t)});var d=n(r,"cancel");d&&t.on(d,function(e){u=!1,a.cancel&&a.cancel(e)}),t.on(n(r,"move"),function(t){if(u&&l){var n=e(t);if(i+=Math.abs(n.x-c.x),s+=Math.abs(n.y-c.y),c=n,!(o>i&&o>s))return s>i?(u=!1,void(a.cancel&&a.cancel(t))):(t.preventDefault(),void(a.move&&a.move(n,t)))}}),t.on(n(r,"end"),function(t){u&&(u=!1,a.end&&a.end(e(t),t))})}}}]),n("ngSwipeLeft",-1,"swipeleft"),n("ngSwipeRight",1,"swiperight");var a=function(t,n,o,a,r){describe("ngSwipe with "+t+" events",function(){var i;if(n){var s=/chrome/.test(e.navigator.userAgent.toLowerCase());if(!s)return}beforeEach(function(){module("ngTouch")}),afterEach(function(){dealoc(i)}),it("should swipe to the left",inject(function(e,t){i=t('<div ng-swipe-left="swiped = true"></div>')(e),e.$digest(),expect(e.swiped).toBeUndefined(),browserTrigger(i,o,{keys:[],x:100,y:20}),browserTrigger(i,r,{keys:[],x:20,y:20}),expect(e.swiped).toBe(!0)})),it("should swipe to the right",inject(function(e,t){i=t('<div ng-swipe-right="swiped = true"></div>')(e),e.$digest(),expect(e.swiped).toBeUndefined(),browserTrigger(i,o,{keys:[],x:20,y:20}),browserTrigger(i,r,{keys:[],x:90,y:20}),expect(e.swiped).toBe(!0)})),it("should only swipe given ng-swipe-disable-mouse attribute for touch events",inject(function(e,n){i=n('<div ng-swipe-left="swiped = true" ng-swipe-disable-mouse></div>')(e),e.$digest(),expect(e.swiped).toBeUndefined(),browserTrigger(i,o,{keys:[],x:100,y:20}),browserTrigger(i,r,{keys:[],x:20,y:20}),expect(!!e.swiped).toBe("mouse"!==t)})),it("should pass event object",inject(function(e,t){i=t('<div ng-swipe-left="event = $event"></div>')(e),e.$digest(),browserTrigger(i,o,{keys:[],x:100,y:20}),browserTrigger(i,r,{keys:[],x:20,y:20}),expect(e.event).toBeDefined()})),it("should not swipe if you move too far vertically",inject(function(e,t,n){i=t('<div ng-swipe-left="swiped = true"></div>')(e),n.append(i),e.$digest(),expect(e.swiped).toBeUndefined(),browserTrigger(i,o,{keys:[],x:90,y:20}),browserTrigger(i,a,{keys:[],x:70,y:200}),browserTrigger(i,r,{keys:[],x:20,y:20}),expect(e.swiped).toBeUndefined()})),it("should not swipe if you slide only a short distance",inject(function(e,t,n){i=t('<div ng-swipe-left="swiped = true"></div>')(e),n.append(i),e.$digest(),expect(e.swiped).toBeUndefined(),browserTrigger(i,o,{keys:[],x:90,y:20}),browserTrigger(i,r,{keys:[],x:80,y:20}),expect(e.swiped).toBeUndefined()})),it("should not swipe if the swipe leaves the element",inject(function(e,t,n){i=t('<div ng-swipe-right="swiped = true"></div>')(e),n.append(i),e.$digest(),expect(e.swiped).toBeUndefined(),browserTrigger(i,o,{keys:[],x:20,y:20}),browserTrigger(i,a,{keys:[],x:40,y:20}),expect(e.swiped).toBeUndefined()})),it("should not swipe if the swipe starts outside the element",inject(function(e,t,n){i=t('<div ng-swipe-right="swiped = true"></div>')(e),n.append(i),e.$digest(),expect(e.swiped).toBeUndefined(),browserTrigger(i,a,{keys:[],x:10,y:20}),browserTrigger(i,r,{keys:[],x:90,y:20}),expect(e.swiped).toBeUndefined()})),it('should emit "swipeleft" events for left swipes',inject(function(e,t,n){i=t('<div ng-swipe-left="swiped = true"></div>')(e),n.append(i),e.$digest(),expect(e.swiped).toBeUndefined();var a=!1;i.on("swipeleft",function(){a=!0}),browserTrigger(i,o,{keys:[],x:100,y:20}),browserTrigger(i,r,{keys:[],x:20,y:20}),expect(a).toEqual(!0)})),it('should emit "swiperight" events for right swipes',inject(function(e,t,n){i=t('<div ng-swipe-right="swiped = true"></div>')(e),n.append(i),e.$digest(),expect(e.swiped).toBeUndefined();var a=!1;i.on("swiperight",function(){a=!0}),browserTrigger(i,o,{keys:[],x:20,y:20}),browserTrigger(i,r,{keys:[],x:100,y:20}),expect(a).toEqual(!0)}))})};a("touch",!0,"touchstart","touchmove","touchend"),a("mouse",!1,"mousedown","mousemove","mouseup"),describe("$swipe",function(){function n(t,n,r,i,s){describe("$swipe with "+t+" events",function(){(!n||/chrome|iphone/i.test(e.navigator.userAgent))&&(it('should trigger the "start" event',inject(function(e){e.bind(o,a),expect(a.start).not.toHaveBeenCalled(),expect(a.move).not.toHaveBeenCalled(),expect(a.cancel).not.toHaveBeenCalled(),expect(a.end).not.toHaveBeenCalled(),browserTrigger(o,r,{keys:[],x:100,y:20}),expect(a.start).toHaveBeenCalled(),expect(a.move).not.toHaveBeenCalled(),expect(a.cancel).not.toHaveBeenCalled(),expect(a.end).not.toHaveBeenCalled()})),it('should trigger the "move" event after a "start"',inject(function(e){e.bind(o,a),expect(a.start).not.toHaveBeenCalled(),expect(a.move).not.toHaveBeenCalled(),expect(a.cancel).not.toHaveBeenCalled(),expect(a.end).not.toHaveBeenCalled(),browserTrigger(o,r,{keys:[],x:100,y:20}),expect(a.start).toHaveBeenCalled(),expect(a.move).not.toHaveBeenCalled(),expect(a.cancel).not.toHaveBeenCalled(),expect(a.end).not.toHaveBeenCalled(),browserTrigger(o,i,{keys:[],x:140,y:20}),expect(a.start).toHaveBeenCalled(),expect(a.move).toHaveBeenCalled(),expect(a.cancel).not.toHaveBeenCalled(),expect(a.end).not.toHaveBeenCalled()})),it('should not trigger a "move" without a "start"',inject(function(e){e.bind(o,a),expect(a.start).not.toHaveBeenCalled(),expect(a.move).not.toHaveBeenCalled(),expect(a.cancel).not.toHaveBeenCalled(),expect(a.end).not.toHaveBeenCalled(),browserTrigger(o,i,{keys:[],x:100,y:40}),expect(a.start).not.toHaveBeenCalled(),expect(a.move).not.toHaveBeenCalled(),expect(a.cancel).not.toHaveBeenCalled(),expect(a.end).not.toHaveBeenCalled()})),it('should not trigger an "end" without a "start"',inject(function(e){e.bind(o,a),expect(a.start).not.toHaveBeenCalled(),expect(a.move).not.toHaveBeenCalled(),expect(a.cancel).not.toHaveBeenCalled(),expect(a.end).not.toHaveBeenCalled(),browserTrigger(o,s,{keys:[],x:100,y:40}),expect(a.start).not.toHaveBeenCalled(),expect(a.move).not.toHaveBeenCalled(),expect(a.cancel).not.toHaveBeenCalled(),expect(a.end).not.toHaveBeenCalled()})),it('should trigger a "start", many "move"s and an "end"',inject(function(e){e.bind(o,a),expect(a.start).not.toHaveBeenCalled(),expect(a.move).not.toHaveBeenCalled(),expect(a.cancel).not.toHaveBeenCalled(),expect(a.end).not.toHaveBeenCalled(),browserTrigger(o,r,{keys:[],x:100,y:40}),expect(a.start).toHaveBeenCalled(),expect(a.move).not.toHaveBeenCalled(),expect(a.cancel).not.toHaveBeenCalled(),expect(a.end).not.toHaveBeenCalled(),browserTrigger(o,i,{keys:[],x:120,y:40}),browserTrigger(o,i,{keys:[],x:130,y:40}),browserTrigger(o,i,{keys:[],x:140,y:40}),browserTrigger(o,i,{keys:[],x:150,y:40}),browserTrigger(o,i,{keys:[],x:160,y:40}),browserTrigger(o,i,{keys:[],x:170,y:40}),browserTrigger(o,i,{keys:[],x:180,y:40}),expect(a.start).toHaveBeenCalled(),expect(a.move).toHaveBeenCalledTimes(7),expect(a.cancel).not.toHaveBeenCalled(),expect(a.end).not.toHaveBeenCalled(),browserTrigger(o,s,{keys:[],x:200,y:40}),expect(a.start).toHaveBeenCalled(),expect(a.move).toHaveBeenCalledTimes(7),expect(a.end).toHaveBeenCalled(),expect(a.cancel).not.toHaveBeenCalled()})),it('should not start sending "move"s until enough horizontal motion is accumulated',inject(function(e){e.bind(o,a),expect(a.start).not.toHaveBeenCalled(),expect(a.move).not.toHaveBeenCalled(),expect(a.cancel).not.toHaveBeenCalled(),expect(a.end).not.toHaveBeenCalled(),browserTrigger(o,r,{keys:[],x:100,y:40}),expect(a.start).toHaveBeenCalled(),expect(a.move).not.toHaveBeenCalled(),expect(a.cancel).not.toHaveBeenCalled(),expect(a.end).not.toHaveBeenCalled(),browserTrigger(o,i,{keys:[],x:101,y:40}),browserTrigger(o,i,{keys:[],x:105,y:40}),browserTrigger(o,i,{keys:[],x:110,y:40}),browserTrigger(o,i,{keys:[],x:115,y:40}),browserTrigger(o,i,{keys:[],x:120,y:40}),expect(a.start).toHaveBeenCalled(),expect(a.move).toHaveBeenCalledTimes(3),expect(a.cancel).not.toHaveBeenCalled(),expect(a.end).not.toHaveBeenCalled(),browserTrigger(o,s,{keys:[],x:200,y:40}),expect(a.start).toHaveBeenCalled(),expect(a.move).toHaveBeenCalledTimes(3),expect(a.end).toHaveBeenCalled(),expect(a.cancel).not.toHaveBeenCalled()})),it("should stop sending anything after vertical motion dominates",inject(function(e){e.bind(o,a),expect(a.start).not.toHaveBeenCalled(),expect(a.move).not.toHaveBeenCalled(),expect(a.cancel).not.toHaveBeenCalled(),expect(a.end).not.toHaveBeenCalled(),browserTrigger(o,r,{keys:[],x:100,y:40}),expect(a.start).toHaveBeenCalled(),expect(a.move).not.toHaveBeenCalled(),expect(a.cancel).not.toHaveBeenCalled(),expect(a.end).not.toHaveBeenCalled(),browserTrigger(o,i,{keys:[],x:101,y:41}),browserTrigger(o,i,{keys:[],x:105,y:55}),browserTrigger(o,i,{keys:[],x:110,y:60}),browserTrigger(o,i,{keys:[],x:115,y:70}),browserTrigger(o,i,{keys:[],x:120,y:80}),expect(a.start).toHaveBeenCalled(),expect(a.cancel).toHaveBeenCalled(),expect(a.move).not.toHaveBeenCalled(),expect(a.end).not.toHaveBeenCalled(),browserTrigger(o,s,{keys:[],x:200,y:40}),expect(a.start).toHaveBeenCalled(),expect(a.cancel).toHaveBeenCalled(),expect(a.move).not.toHaveBeenCalled(),expect(a.end).not.toHaveBeenCalled()})))})}var o,a;beforeEach(function(){module("ngTouch"),inject(function(e,t){o=e("<div></div>")(t)}),a={start:jasmine.createSpy("startSpy"),move:jasmine.createSpy("moveSpy"),cancel:jasmine.createSpy("cancelSpy"),end:jasmine.createSpy("endSpy")}}),afterEach(function(){dealoc(o)}),describe("pointerTypes",function(){var e,n=["mousedown","mousemove","mouseup"].sort(),r=["touchcancel","touchend","touchmove","touchstart"].sort(),i=["pointerdown","pointermove","pointerup","pointercancel"].sort(),s=n.concat(r,i).sort();beforeEach(function(){e=[],spyOn(o,"on").and.callFake(function(n){t.forEach(n.split(/\s+/),function(t){e.push(t)})})}),it("should use mouse, touch and pointer by default",inject(function(t){t.bind(o,a),expect(e.sort()).toEqual(s)})),it('should only use mouse events for pointerType "mouse"',inject(function(t){t.bind(o,a,["mouse"]),expect(e.sort()).toEqual(n)})),it('should only use touch events for pointerType "touch"',inject(function(t){t.bind(o,a,["touch"]),expect(e.sort()).toEqual(r)})),it('should only use pointer events for pointerType "pointer"',inject(function(t){t.bind(o,a,["pointer"]),expect(e.sort()).toEqual(i)})),it("should use mouse and touch if both are specified",inject(function(t){t.bind(o,a,["touch","mouse"]),expect(e.sort()).toEqual(n.concat(r).sort())})),it("should use mouse and pointer if both are specified",inject(function(t){t.bind(o,a,["mouse","pointer"]),expect(e.sort()).toEqual(n.concat(i).sort())})),it("should use touch and pointer if both are specified",inject(function(t){t.bind(o,a,["touch","pointer"]),expect(e.sort()).toEqual(r.concat(i).sort())})),it("should use mouse, touch and pointer if they are specified",inject(function(t){t.bind(o,a,["mouse","touch","pointer"]),expect(e.sort()).toEqual(s)}))}),n("touch",!0,"touchstart","touchmove","touchend"),n("pointer",!0,"pointerdown","pointermove","pointerup"),n("mouse",!1,"mousedown","mousemove","mouseup")})}(window,window.angular);