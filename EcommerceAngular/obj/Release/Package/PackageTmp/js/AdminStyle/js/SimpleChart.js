!function(t,e,i,n){function o(e,i){this.element=e,this.options=t.extend({},s,i),this.init()}var a="SimpleChart",s={ChartType:"Line",xPadding:60,yPadding:50,topmargin:25,rightmargin:20,data:null,toolwidth:300,toolheight:300,axiscolor:"#333",font:"italic 10pt sans-serif",headerfontsize:"14px",axisfontsize:"12px",piefontsize:"13px",pielabelcolor:"#fff",pielabelpercentcolor:"#000",textAlign:"center",textcolor:"#E6E6E6",showlegends:!0,showpielables:!1,legendposition:"bottom",legendsize:"100",xaxislabel:null,yaxislabel:null,title:null,LegendTitle:"Legend",pieborderColor:"#fff",pieborderWidth:2};o.prototype={init:function(){var e=this,i=e.options,n=t(e.element).addClass("SimpleChart").addClass(i.ChartType).append("<canvas class='SimpleChartcanvas'></canvas>").find("canvas").css({"float":"right"==i.legendposition||"left"==i.legendposition?"left":"","margin-top":i.topmargin,"margin-right":i.rightmargin});n[0].getContext("2d");n[0].width=t(e.element).width()-(i.showlegends&&("right"==i.legendposition||"left"==i.legendposition)?parseInt(i.legendsize)+parseInt(i.xPadding):0)-i.rightmargin,n[0].height=t(e.element).height()-(i.showlegends&&("bottom"==i.legendposition||"top"==i.legendposition)?i.legendsize:0)-i.topmargin;var o=n[0].getContext("2d");switch(i.ChartType){case"Line":e.drawAxis(o,n),e.drawLineAreaScatteredHybridCharts(o,n);break;case"Area":e.drawAxis(o,n),e.drawLineAreaScatteredHybridCharts(o,n);break;case"Scattered":e.drawAxis(o,n),e.drawLineAreaScatteredHybridCharts(o,n);break;case"Hybrid":e.drawAxis(o,n),e.drawLineAreaScatteredHybridCharts(o,n),e.drawBar(o,n),e.drawHybrid(o,n);break;case"Bar":e.drawAxis(o,n),e.drawBar(o,n);break;case"Pie":e.drawPie(o,n);break;case"Stacked":e.drawAxis(o,n),e.drawStacked(o,n);break;case"StackedHybrid":e.drawAxis(o,n),e.drawStacked(o,n),e.drawLineAreaScatteredHybridCharts(o,n)}i.showlegends&&e.drawLegends(n)},reload:function(){t(this.element).empty(),this.init()},destroy:function(){t(this.element).empty()},FindYMax:function(){config=this.options;for(var t=0,e=0;e<config.data.length;e++)for(var i=0;i<config.data[e].values.length;i++)config.data[e].values[i].Y>t&&(t=config.data[e].values[i].Y);return t+=10-t%10},pixelX:function(e,i){config=this.options;var n=t(this.element).find(".SimpleChartcanvas");return(n.width()-config.xPadding)/config.data[i].values.length*e+1.5*config.xPadding},pixelY:function(e){config=this.options;var i=t(this.element).find(".SimpleChartcanvas");return i.height()-(i.height()-config.yPadding)/this.FindYMax()*e-config.yPadding},getRandomColor:function(){for(var t="0123456789ABCDEF".split(""),e="#",i=0;6>i;i++)e+=t[Math.floor(16*Math.random())];return e},drawAxis:function(e,i){var n=this,o=new Array,a=this.options;e.lineWidth=2,e.strokeStyle=a.axiscolor,e.font=a.font,e.textAlign=a.textAlign,e.beginPath(),e.moveTo(a.xPadding,0),e.lineTo(a.xPadding,i.height()-a.yPadding),e.lineTo(i.width(),i.height()-a.yPadding),e.stroke(),e.fillStyle=a.textcolor;for(var s=0;s<a.data.length;s++)for(var r=0;r<a.data[s].values.length;r++)o.indexOf(a.data[s].values[r].X)<0&&(o.push(a.data[s].values[r].X),e.fillText(a.data[s].values[r].X,n.pixelX(r,s),i.height()-a.yPadding+20));e.save();var l=e.font.split(" ");e.font=a.axisfontsize+" "+l[l.length-1],a.xaxislabel&&e.fillText(a.xaxislabel,i.width()/2,i.height()),a.yaxislabel&&(e.save(),e.translate(0,i.height()/2),e.rotate(-Math.PI/2),e.fillText(a.yaxislabel,0,15),e.restore()),a.title&&t("<div class='simple-chart-Header' />").appendTo(t(n.element)).html(a.title).css({left:i.width()/2-t(n.element).find(".simple-chart-Header").width()/2,top:5}),e.restore(),e.textAlign="right",e.textBaseline="middle";for(var h=n.FindYMax(),c="",s=0;s<Math.ceil(h).toString().length-1;s++)c+="0";c="1"+c,c=Math.ceil(h/parseInt(c))*Math.pow(10,Math.ceil(h/10).toString().length-1);for(var s=0;s<n.FindYMax();s+=parseInt(c))e.fillStyle=a.textcolor,e.fillText(s,a.xPadding-10,n.pixelY(s)),e.fillStyle=a.axiscolor,e.beginPath(),e.arc(a.xPadding,n.pixelY(s),6,0,2*Math.PI,!0),e.fill()},drawPie:function(e,i){var n=this,o=this.options;e.clearRect(0,0,i.width(),i.height());for(var a=0,s=0,r=0;r<o.data[0].values.length;r++)a+="number"==typeof o.data[0].values[r].Y?o.data[0].values[r].Y:0;for(var l=0;l<o.data[0].values.length;l++){e.fillStyle="Random"==o.data[0].linecolor?o.data[0].values[l].color=randomcolor=n.getRandomColor():o.data[0].linecolor,e.beginPath();var h=i.width()/2.2,c=i.height()/2.2;if(e.moveTo(h,c),e.arc(h,c,"right"==o.legendposition||"left"==o.legendposition?h:c,s,s+2*Math.PI*(o.data[0].values[l].Y/a),!1),e.lineTo(h,c),e.fill(),e.fillStyle=o.pielabelcolor,e.lineWidth=o.pieborderWidth,e.strokeStyle=o.pieborderColor,e.stroke(),o.showpielables){e.save(),e.translate(h,c),e.rotate(s-.2+2*Math.PI*(o.data[0].values[l].Y/a));var u=Math.floor(.5*h)+40,d=Math.floor(.05*c);e.textAlign="right";var p=e.font.split(" ");e.font=o.piefontsize+" "+p[p.length-1],e.fillText(o.data[0].values[l].X,u,d),e.restore(),e.save(),e.fillStyle=o.pielabelpercentcolor,e.translate(h,c),e.rotate(s-.15+2*Math.PI*(o.data[0].values[l].Y/a));var u=Math.floor(.5*h)+90,d=Math.floor(.05*c);e.textAlign="right";var p=e.font.split(" ");e.font=o.piefontsize+" "+p[p.length-1],e.fillText(Math.round(o.data[0].values[l].Y/a*100)+"%",u,d),e.restore()}s+=2*Math.PI*(o.data[0].values[l].Y/a)}var f=t(i).offset();f.left,f.top},drawBar:function(t,e){for(var i=this,n=this.options,o=0;o<n.data[0].values.length;o++){var a;t.strokeStyle="Random"==n.data[0].linecolor?n.data[0].values[o].color=a=i.getRandomColor():n.data[0].linecolor,t.fillStyle="Random"==n.data[0].linecolor?a:n.data[0].linecolor,t.beginPath(),t.rect(i.pixelX(o,0)-n.yPadding/4,i.pixelY(n.data[0].values[o].Y),n.yPadding/2,e.height()-i.pixelY(n.data[0].values[o].Y)-n.xPadding+8),t.closePath(),t.stroke(),t.fill(),t.textAlign="left",t.fillStyle="#000",t.fillText(n.data[0].values[o].Y,i.pixelX(o,0)-n.yPadding/4,i.pixelY(n.data[0].values[o].Y)+7,200)}},drawStacked:function(t,e){for(var i=this,n=this.options,o=0;o<n.data.length;o++)for(var a=0;a<n.data[o].values.length;a++){var s;t.strokeStyle="Random"==n.data[o].linecolor?n.data[o].values[a].color=s=i.getRandomColor():n.data[o].linecolor,t.fillStyle="Random"==n.data[o].linecolor?s:n.data[o].linecolor,t.beginPath(),t.rect(i.pixelX(a,0)-n.yPadding/4,i.pixelY(n.data[o].values[a].Y),n.yPadding/2,e.height()-i.pixelY(n.data[o].values[a].Y)-n.xPadding+8),t.closePath(),t.stroke(),t.fill(),t.textAlign="left",t.fillStyle="#000",t.fillText(n.data[o].values[a].Y,i.pixelX(a,0)-n.yPadding/4,i.pixelY(n.data[o].values[a].Y)+7,200)}},drawHybrid:function(t,e){var i,n=this,o=this.options;t.strokeStyle="Random"==o.data[0].linecolor?i=n.getRandomColor():o.data[0].linecolor,t.beginPath(),t.moveTo(n.pixelX(0,0),n.pixelY(o.data[0].values[0].Y));for(var a=1;a<o.data[0].values.length;a++)t.lineTo(n.pixelX(a,0),n.pixelY(o.data[0].values[a].Y));t.stroke(),t.fillStyle="Random"==o.data[0].linecolor?i:o.data[0].linecolor;for(var a=0;a<o.data[0].values.length;a++)t.beginPath(),t.arc(n.pixelX(a,0),n.pixelY(o.data[0].values[a].Y),4,0,2*Math.PI,!0),t.fill()},drawLineAreaScatteredHybridCharts:function(e,i){function n(t){mouseX=parseInt(t.pageX-d),mouseY=parseInt(t.pageY-p);for(var e=!1,i=0;i<m.length;i++){var n=m[i],o=mouseX-n.x,u=mouseY-n.y;o*o+u*u<n.rXr&&(s[0].style.left=n.x-s[0].width/2-3+"px",s[0].style.top=n.y-21-s[0].height+a.topmargin+"px",r.clearRect(0,0,s[0].width,s[0].height),r.fillText(n.tip,5,15),c[0].style.left=n.x-7+"px",c[0].style.top=n.y+a.topmargin-19+"px",("Line"==a.ChartType||"Scattered"==a.ChartType||"Hybrid"==a.ChartType||"StackedHybrid"==a.ChartType)&&(l[0].style.left=n.x-9+"px",l[0].style.top=n.y+a.topmargin-9+"px"),h.clearRect(0,0,l.width(),l.height()),h.strokeStyle=n.color,h.beginPath(),h.arc(9,9,7,0,2*Math.PI),h.lineWidth=2,h.stroke(),e=!0)}e||(s[0].style.left="-400px",l[0].style.left="-400px",c[0].style.left="-400px")}var o=this,a=this.options,s=t(o.element).append("<canvas id='tip'></canvas><div class='down-triangle'></div>").find("#tip").attr("width",a.toolwidth).attr("height",a.toolheight),r=s[0].getContext("2d"),l=t(o.element).append("<canvas id='highlighter'></canvas>").find("#highlighter").attr("width","18").attr("height","18"),h=l[0].getContext("2d"),c=t(o.element).find(".down-triangle"),u=t(i).offset(),d=u.left,p=u.top;t(i[0]).on("mousemove",function(t){n(t)});for(var f=0;f<a.data.length;f++){if(e.strokeStyle="Random"==a.data[f].linecolor?a.data[f].Randomlinecolor=o.getRandomColor():a.data[f].linecolor,e.beginPath(),e.moveTo(o.pixelX(0,f),o.pixelY(a.data[f].values[0].Y)),"Scattered"!==a.ChartType&&"Hybrid"!==a.ChartType){for(var g=1;g<a.data[f].values.length;g++)e.lineTo(o.pixelX(g,f),o.pixelY(a.data[f].values[g].Y));e.stroke()}if(e.fillStyle="Random"==a.data[f].linecolor?a.data[f].Randomlinecolor:a.data[f].linecolor,"Area"==a.ChartType&&(e.lineTo(o.pixelX(a.data[f].values.length-1,f),o.pixelY(0)),e.lineTo(o.pixelX(0,0),o.pixelY(0)),e.stroke(),e.fill()),"Line"==a.ChartType||"Scattered"==a.ChartType||"StackedHybrid"==a.ChartType)for(var g=0;g<a.data[f].values.length;g++)e.beginPath(),e.arc(o.pixelX(g,f),o.pixelY(a.data[f].values[g].Y),4,0,2*Math.PI,!0),e.fill()}for(var m=[],f=0;f<a.data.length;f++)for(var g=0;g<a.data[f].values.length;g++)m.push({x:o.pixelX(g,f),y:o.pixelY(a.data[f].values[g].Y),r:4,rXr:16,tip:a.data[f].values[g].Y,color:"Random"==a.data[f].linecolor?a.data[f].Randomlinecolor:a.data[f].linecolor})},drawLegends:function(e){var i=this,n=this.options;if("Line"==n.ChartType||"Area"==n.ChartType||"Scattered"==n.ChartType||"Stacked"==n.ChartType||"StackedHybrid"==n.ChartType){for(var o=t("<div class='simple-chart-legends' />",{id:"legendsdiv"}).css({width:"right"==n.legendposition||"left"==n.legendposition?n.legendsize-5:e.width(),height:"top"==n.legendposition||"bottom"==n.legendposition?n.legendsize-5:e.height(),"float":"right"==n.legendposition||"left"==n.legendposition?"left":""}).appendTo(t(i.element)),a=t(o).append("<span>"+n.LegendTitle+"</span>").append("<ul />").find("ul"),s=0;s<n.data.length;s++)t("<li />",{"class":"legendsli"}).append("<span />").find("span").addClass("legendindicator").append('<span class="line" style="background: '+("Random"==n.data[s].linecolor?n.data[s].Randomlinecolor:n.data[s].linecolor)+'"></span><span class="circle" style="background: '+("Random"==n.data[s].linecolor?n.data[s].Randomlinecolor:n.data[s].linecolor)+'"></span>').parent().append("<span>"+n.data[s].title+"</span>").appendTo(a);("top"==n.legendposition||"left"==n.legendposition)&&t(o).insertBefore(t(i.element).find(".SimpleChartcanvas")),"right"==n.legendposition||"left"==n.legendposition?t(o).addClass("vertical"):t(o).addClass("horizontal")}if("Bar"==n.ChartType||"Hybrid"==n.ChartType||"Pie"==n.ChartType){for(var o=t("<div class='simple-chart-legends' />",{id:"legendsdiv"}).css({width:"right"==n.legendposition||"left"==n.legendposition?n.legendsize-5:e.width(),height:"top"==n.legendposition||"bottom"==n.legendposition?n.legendsize-5:e.height(),"float":"right"==n.legendposition||"left"==n.legendposition?"left":""}).appendTo(t(i.element)),a=t(o).append("<span>"+n.LegendTitle+"</span>").append("<ul />").find("ul"),s=0;s<n.data[0].values.length;s++)t("<li />",{"class":"legendsli"}).append("<span />").find("span").addClass("legendindicator").append('<span class="line" style="background: '+("Random"==n.data[0].linecolor?n.data[0].values[s].color:n.data[0].linecolor)+'"></span><span class="circle" style="background: '+("Random"==n.data[0].linecolor?n.data[0].values[s].color:n.data[0].linecolor)+'"></span>').parent().append("<span>"+n.data[0].values[s].X+"</span><span class='legendvalue'>"+("Pie"==n.ChartType?n.data[0].values[s].Y:"")+"</span>").appendTo(a);("top"==n.legendposition||"left"==n.legendposition)&&t(o).insertBefore(t(i.element).find(".SimpleChartcanvas")),"right"==n.legendposition||"left"==n.legendposition?t(o).addClass("vertical"):t(o).addClass("horizontal")}}},t.fn[a]=function(e){if("string"!=typeof e)return this.each(function(){t.data(this,"plugin_"+a)||t.data(this,"plugin_"+a,new o(this,e))});var i=Array.prototype.slice.call(arguments,1);this.each(function(){var n=t.data(this,"plugin_"+a);n[e]?n[e].apply(n,i):n.options[e]=i[0]})}}(jQuery,window,document,void 0);