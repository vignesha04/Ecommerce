!function(){var t=window.AmCharts;t.AmRectangularChart=t.Class({inherits:t.AmCoordinateChart,construct:function(e){t.AmRectangularChart.base.construct.call(this,e),this.theme=e,this.createEvents("zoomed","changed"),this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20,this.depth3D=this.angle=0,this.plotAreaFillColors="#FFFFFF",this.plotAreaFillAlphas=0,this.plotAreaBorderColor="#000000",this.plotAreaBorderAlpha=0,this.maxZoomFactor=20,this.zoomOutButtonImageSize=19,this.zoomOutButtonImage="lens",this.zoomOutText="Show all",this.zoomOutButtonColor="#e5e5e5",this.zoomOutButtonAlpha=0,this.zoomOutButtonRollOverAlpha=1,this.zoomOutButtonPadding=8,this.trendLines=[],this.autoMargins=!0,this.marginsUpdated=!1,this.autoMarginOffset=10,t.applyTheme(this,e,"AmRectangularChart")},initChart:function(){t.AmRectangularChart.base.initChart.call(this),this.updateDxy(),!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),this.drawGraphs=!1),this.processScrollbars(),this.updateMargins(),this.updatePlotArea(),this.updateScrollbars(),this.updateTrendLines(),this.updateChartCursor(),this.updateValueAxes(),this.scrollbarOnly||this.updateGraphs()},drawChart:function(){if(t.AmRectangularChart.base.drawChart.call(this),this.drawPlotArea(),t.ifArray(this.chartData)){var e=this.chartCursor;e&&e.draw()}},resetMargins:function(){var t,e={};if("xy"==this.type){var i=this.xAxes,n=this.yAxes;for(t=0;t<i.length;t++){var o=i[t];o.ignoreAxisWidth||(o.setOrientation(!0),o.fixAxisPosition(),e[o.position]=!0)}for(t=0;t<n.length;t++)i=n[t],i.ignoreAxisWidth||(i.setOrientation(!1),i.fixAxisPosition(),e[i.position]=!0)}else{for(n=this.valueAxes,t=0;t<n.length;t++)i=n[t],i.ignoreAxisWidth||(i.setOrientation(this.rotate),i.fixAxisPosition(),e[i.position]=!0);(t=this.categoryAxis)&&!t.ignoreAxisWidth&&(t.setOrientation(!this.rotate),t.fixAxisPosition(),t.fixAxisPosition(),e[t.position]=!0)}e.left&&(this.marginLeft=0),e.right&&(this.marginRight=0),e.top&&(this.marginTop=0),e.bottom&&(this.marginBottom=0),this.fixMargins=e},measureMargins:function(){var t,e=this.valueAxes,i=this.autoMarginOffset,n=this.fixMargins,o=this.realWidth,s=this.realHeight,a=i,r=i,l=o;t=s;var h;for(h=0;h<e.length;h++)e[h].handleSynchronization(),t=this.getAxisBounds(e[h],a,l,r,t),a=Math.round(t.l),l=Math.round(t.r),r=Math.round(t.t),t=Math.round(t.b);(e=this.categoryAxis)&&(t=this.getAxisBounds(e,a,l,r,t),a=Math.round(t.l),l=Math.round(t.r),r=Math.round(t.t),t=Math.round(t.b)),n.left&&i>a&&(this.marginLeft=Math.round(-a+i),!isNaN(this.minMarginLeft)&&this.marginLeft<this.minMarginLeft&&(this.marginLeft=this.minMarginLeft)),n.right&&l>=o-i&&(this.marginRight=Math.round(l-o+i),!isNaN(this.minMarginRight)&&this.marginRight<this.minMarginRight&&(this.marginRight=this.minMarginRight)),n.top&&r<i+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-r+i+this.titleHeight),!isNaN(this.minMarginTop)&&this.marginTop<this.minMarginTop&&(this.marginTop=this.minMarginTop)),n.bottom&&t>s-i&&(this.marginBottom=Math.round(this.marginBottom+t-s+i),!isNaN(this.minMarginBottom)&&this.marginBottom<this.minMarginBottom&&(this.marginBottom=this.minMarginBottom)),this.initChart()},getAxisBounds:function(t,e,i,n,o){if(!t.ignoreAxisWidth){var s=t.labelsSet,a=t.tickLength;if(t.inside&&(a=0),s)switch(s=t.getBBox(),t.position){case"top":t=s.y,n>t&&(n=t);break;case"bottom":t=s.y+s.height,t>o&&(o=t);break;case"right":t=s.x+s.width+a+3,t>i&&(i=t);break;case"left":t=s.x-a,e>t&&(e=t)}}return{l:e,t:n,r:i,b:o}},drawZoomOutButton:function(){var e=this;if(!e.zbSet){var i=e.container.set();e.zoomButtonSet.push(i);var n=e.color,o=e.fontSize,s=e.zoomOutButtonImageSize,a=e.zoomOutButtonImage.replace(/\.[a-z]*$/i,""),r=e.langObj.zoomOutText||e.zoomOutText,l=e.zoomOutButtonColor,h=e.zoomOutButtonAlpha,c=e.zoomOutButtonFontSize,u=e.zoomOutButtonPadding;isNaN(c)||(o=c),(c=e.zoomOutButtonFontColor)&&(n=c);var d,c=e.zoomOutButton;c&&(c.fontSize&&(o=c.fontSize),c.color&&(n=c.color),c.backgroundColor&&(l=c.backgroundColor),isNaN(c.backgroundAlpha)||(e.zoomOutButtonRollOverAlpha=c.backgroundAlpha));var p=c=0,p=e.pathToImages;for(a&&((t.isAbsolute(a)||void 0===p)&&(p=""),d=e.container.image(p+a+e.extension,0,0,s,s),t.setCN(e,d,"zoom-out-image"),i.push(d),d=d.getBBox(),c=d.width+5),void 0!==r&&(n=t.text(e.container,r,n,e.fontFamily,o,"start"),t.setCN(e,n,"zoom-out-label"),o=n.getBBox(),p=d?d.height/2-3:o.height/2,n.translate(c,p),i.push(n)),d=i.getBBox(),n=1,t.isModern||(n=0),l=t.rect(e.container,d.width+2*u+5,d.height+2*u-2,l,1,1,l,n),l.setAttr("opacity",h),l.translate(-u,-u),t.setCN(e,l,"zoom-out-bg"),i.push(l),l.toBack(),e.zbBG=l,d=l.getBBox(),i.translate(e.marginLeftReal+e.plotAreaWidth-d.width+u,e.marginTopReal+u),i.hide(),i.mouseover(function(){e.rollOverZB()}).mouseout(function(){e.rollOutZB()}).click(function(){e.clickZB()}).touchstart(function(){e.rollOverZB()}).touchend(function(){e.rollOutZB(),e.clickZB()}),h=0;h<i.length;h++)i[h].attr({cursor:"pointer"});void 0!==e.zoomOutButtonTabIndex&&(i.setAttr("tabindex",e.zoomOutButtonTabIndex),i.setAttr("role","menuitem"),i.keyup(function(t){13==t.keyCode&&e.clickZB()})),e.zbSet=i}},rollOverZB:function(){this.rolledOverZB=!0,this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.rolledOverZB=!1,this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.rolledOverZB=!1,this.zoomOut()},zoomOut:function(){this.zoomOutValueAxes()},drawPlotArea:function(){var e=this.dx,i=this.dy,n=this.marginLeftReal,o=this.marginTopReal,s=this.plotAreaWidth-1,a=this.plotAreaHeight-1,r=this.plotAreaFillColors,l=this.plotAreaFillAlphas,h=this.plotAreaBorderColor,c=this.plotAreaBorderAlpha;"object"==typeof l&&(l=l[0]),r=t.polygon(this.container,[0,s,s,0,0],[0,0,a,a,0],r,l,1,h,c,this.plotAreaGradientAngle),t.setCN(this,r,"plot-area"),r.translate(n+e,o+i),this.set.push(r),0!==e&&0!==i&&(r=this.plotAreaFillColors,"object"==typeof r&&(r=r[0]),r=t.adjustLuminosity(r,-.15),s=t.polygon(this.container,[0,e,s+e,s,0],[0,i,i,0,0],r,l,1,h,c),t.setCN(this,s,"plot-area-bottom"),s.translate(n,o+a),this.set.push(s),e=t.polygon(this.container,[0,0,e,e,0],[0,a,a+i,i,0],r,l,1,h,c),t.setCN(this,e,"plot-area-left"),e.translate(n,o),this.set.push(e)),(n=this.bbset)&&this.scrollbarOnly&&n.remove()},updatePlotArea:function(){var t=this.updateWidth(),e=this.updateHeight(),i=this.container;this.realWidth=t,this.realWidth=e,i&&this.container.setSize(t,e);var i=this.marginLeftReal,n=this.marginTopReal,t=t-i-this.marginRightReal-this.dx,e=e-n-this.marginBottomReal;1>t&&(t=1),1>e&&(e=1),this.plotAreaWidth=Math.round(t),this.plotAreaHeight=Math.round(e),this.plotBalloonsSet.translate(i,n)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180)),this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180)),this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180)),this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var t=this.getTitleHeight();this.titleHeight=t,this.marginTopReal=this.marginTop-this.dy,this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=t),this.marginBottomReal=this.marginBottom,this.marginLeftReal=this.marginLeft,this.marginRightReal=this.marginRight},updateValueAxes:function(){var t,e=this.valueAxes;for(t=0;t<e.length;t++){var i=e[t];this.setAxisRenderers(i),this.updateObjectSize(i)}},setAxisRenderers:function(e){e.axisRenderer=t.RecAxis,e.guideFillRenderer=t.RecFill,e.axisItemRenderer=t.RecItem,e.marginsChanged=!0},updateGraphs:function(){var t,e=this.graphs;for(t=0;t<e.length;t++){var i=e[t];i.index=t,i.rotate=this.rotate,this.updateObjectSize(i)}},updateObjectSize:function(t){t.width=this.plotAreaWidth-1,t.height=this.plotAreaHeight-1,t.x=this.marginLeftReal,t.y=this.marginTopReal,t.dx=this.dx,t.dy=this.dy},updateChartCursor:function(){var e=this.chartCursor;e&&(e=t.processObject(e,t.ChartCursor,this.theme),this.updateObjectSize(e),this.addChartCursor(e),e.chart=this)},processScrollbars:function(){var e=this.chartScrollbar;e&&(e=t.processObject(e,t.ChartScrollbar,this.theme),this.addChartScrollbar(e))},updateScrollbars:function(){},removeChartCursor:function(){t.callMethod("destroy",[this.chartCursor]),this.chartCursor=null},zoomTrendLines:function(){var t,e=this.trendLines;for(t=0;t<e.length;t++){var i=e[t];i.valueAxis.recalculateToPercents?i.set&&i.set.hide():(i.x=this.marginLeftReal,i.y=this.marginTopReal,i.draw())}},handleCursorValueZoom:function(){},addTrendLine:function(t){this.trendLines.push(t)},zoomOutValueAxes:function(){for(var t=this.valueAxes,e=0;e<t.length;e++)t[e].zoomOut()},removeTrendLine:function(t){var e,i=this.trendLines;for(e=i.length-1;e>=0;e--)i[e]==t&&i.splice(e,1)},adjustMargins:function(t,e){var i=t.position,n=t.scrollbarHeight+t.offset;t.enabled&&("top"==i?e?this.marginLeftReal+=n:this.marginTopReal+=n:e?this.marginRightReal+=n:this.marginBottomReal+=n)},getScrollbarPosition:function(t,e,i){var n="bottom",o="top";t.oppositeAxis||(o=n,n="top"),t.position=e?"bottom"==i||"left"==i?n:o:"top"==i||"right"==i?n:o},updateChartScrollbar:function(t,e){if(t){t.rotate=e;var i=this.marginTopReal,n=this.marginLeftReal,o=t.scrollbarHeight,s=this.dx,a=this.dy,r=t.offset;"top"==t.position?e?(t.y=i,t.x=n-o-r):(t.y=i-o+a-r,t.x=n+s):e?(t.y=i+a,t.x=n+this.plotAreaWidth+s+r):(t.y=i+this.plotAreaHeight+r,t.x=this.marginLeftReal)}},showZB:function(t){var e=this.zbSet;t&&(e=this.zoomOutText,""!==e&&e&&this.drawZoomOutButton()),(e=this.zbSet)&&(this.zoomButtonSet.push(e),t?e.show():e.hide(),this.rollOutZB())},handleReleaseOutside:function(e){t.AmRectangularChart.base.handleReleaseOutside.call(this,e),(e=this.chartCursor)&&e.handleReleaseOutside&&e.handleReleaseOutside()},handleMouseDown:function(e){t.AmRectangularChart.base.handleMouseDown.call(this,e);var i=this.chartCursor;i&&i.handleMouseDown&&!this.rolledOverZB&&i.handleMouseDown(e)},update:function(){t.AmRectangularChart.base.update.call(this),this.chartCursor&&this.chartCursor.update&&this.chartCursor.update()},handleScrollbarValueZoom:function(t){this.relativeZoomValueAxes(t.target.valueAxes,t.relativeStart,t.relativeEnd),this.zoomAxesAndGraphs()},zoomValueScrollbar:function(t){if(t&&t.enabled){var e=t.valueAxes[0],i=e.relativeStart,n=e.relativeEnd;e.reversed&&(n=1-i,i=1-e.relativeEnd),t.percentZoom(i,n)}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){var t,e=this.valueAxes;for(t=0;t<e.length;t++)e[t].zoom(this.start,this.end);for(e=this.graphs,t=0;t<e.length;t++)e[t].zoom(this.start,this.end);(t=this.chartCursor)&&t.clearSelection(),this.zoomTrendLines()}},handleValueAxisZoomReal:function(t,e){var i=t.relativeStart,n=t.relativeEnd;if(i>n)var o=i,i=n,n=o;this.relativeZoomValueAxes(e,i,n),this.updateAfterValueZoom()},updateAfterValueZoom:function(){this.zoomAxesAndGraphs(),this.zoomScrollbar()},relativeZoomValueAxes:function(e,i,n){if(this.hideBalloonReal(),i=t.fitToBounds(i,0,1),n=t.fitToBounds(n,0,1),i>n){var o=i;i=n,n=o}var o=1/this.maxZoomFactor,s=t.getDecimals(o)+4;if(o>n-i&&(n=i+(n-i)/2,i=n-o/2,n+=o/2,n>1&&(i-=n-1,n=1),0>i&&(i=0,n=o)),i=t.roundTo(i,s),n=t.roundTo(n,s),o=!1,e){for(s=0;s<e.length;s++){var a=e[s].zoomToRelativeValues(i,n,!0);a&&(o=a)}this.showZB()}return o},addChartCursor:function(e){t.callMethod("destroy",[this.chartCursor]),e&&(this.listenTo(e,"moved",this.handleCursorMove),this.listenTo(e,"zoomed",this.handleCursorZoom),this.listenTo(e,"zoomStarted",this.handleCursorZoomStarted),this.listenTo(e,"panning",this.handleCursorPanning),this.listenTo(e,"onHideCursor",this.handleCursorHide)),this.chartCursor=e},handleCursorChange:function(){},handleCursorMove:function(t){var e,i=this.valueAxes;for(e=0;e<i.length;e++)if(!t.panning){var n=i[e];n&&n.showBalloon&&n.showBalloon(t.x,t.y)}},handleCursorZoom:function(t){if(this.skipZoomed)this.skipZoomed=!1;else{var e=this.startX0,i=this.endX0,n=this.endY0,o=this.startY0,s=t.startX,a=t.endX,r=t.startY,l=t.endY;this.startX0=this.endX0=this.startY0=this.endY0=NaN,this.handleCursorZoomReal(e+s*(i-e),e+a*(i-e),o+r*(n-o),o+l*(n-o),t)}},handleCursorHide:function(){var t,e=this.valueAxes;for(t=0;t<e.length;t++)e[t].hideBalloon();for(e=this.graphs,t=0;t<e.length;t++)e[t].hideBalloonReal()}})}(),function(){var t=window.AmCharts;t.AmSerialChart=t.Class({inherits:t.AmRectangularChart,construct:function(e){this.type="serial",t.AmSerialChart.base.construct.call(this,e),this.cname="AmSerialChart",this.theme=e,this.columnSpacing=5,this.columnSpacing3D=0,this.columnWidth=.8;var i=new t.CategoryAxis(e);i.chart=this,this.categoryAxis=i,this.zoomOutOnDataUpdate=!0,this.mouseWheelZoomEnabled=this.mouseWheelScrollEnabled=this.rotate=this.skipZoom=!1,this.minSelectedTime=0,t.applyTheme(this,e,this.cname)},initChart:function(){t.AmSerialChart.base.initChart.call(this),this.updateCategoryAxis(this.categoryAxis,this.rotate,"categoryAxis"),this.dataChanged?this.parseData():this.onDataUpdated(),this.drawGraphs=!0},onDataUpdated:function(){var t,e=this.countColumns(),i=this.chartData,n=this.graphs;for(t=0;t<n.length;t++){var o=n[t];o.data=i,o.columnCount=e}0<i.length&&(this.firstTime=this.getStartTime(i[0].time),this.lastTime=this.getEndTime(i[i.length-1].time)),this.drawChart(),this.autoMargins&&!this.marginsUpdated?(this.marginsUpdated=!0,this.measureMargins()):this.dispDUpd()},syncGrid:function(){if(this.synchronizeGrid){var e,i,n=this.valueAxes;if(0<n.length){var o=0;for(i=0;i<n.length;i++)e=n[i],o<e.gridCountReal&&(o=e.gridCountReal);var s=!1;for(i=0;i<n.length;i++)if(e=n[i],e.gridCountReal<o){var a=(o-e.gridCountReal)/2,r=s=a;0!==a-Math.round(a)&&(s-=.5,r+=.5),0<=e.min&&0>e.min-s*e.step&&(r+=s,s=0),0>=e.max&&0<e.max+r*e.step&&(s+=r,r=0),a=t.getDecimals(e.step),e.minimum=t.roundTo(e.min-s*e.step,a),e.maximum=t.roundTo(e.max+r*e.step,a),e.setStep=e.step,s=e.strictMinMax=!0}for(s&&this.updateAfterValueZoom(),i=0;i<n.length;i++)e=n[i],e.minimum=NaN,e.maximum=NaN,e.setStep=NaN,e.strictMinMax=!1}}},handleWheelReal:function(t,e){if(!this.wheelBusy){var i=this.categoryAxis,n=i.parseDates,o=i.minDuration(),s=1,a=1;this.mouseWheelZoomEnabled?e||(s=-1):e&&(s=-1);var r=this.chartCursor;if(r){var l=r.mouseX,r=r.mouseY;s!=a&&(l=this.rotate?r/this.plotAreaHeight:l/this.plotAreaWidth,s*=l,a*=1-l),l=.05*(this.end-this.start),n&&(l=.05*(this.endTime-this.startTime)/o),1>l&&(l=1),s*=l,a*=l,(!n||i.equalSpacing)&&(s=Math.round(s),a=Math.round(a))}r=this.chartData.length,i=this.lastTime,l=this.firstTime,0>t?n?(r=this.endTime-this.startTime,n=this.startTime+s*o,o=this.endTime+a*o,a>0&&s>0&&o>=i&&(o=i,n=i-r),this.zoomToDates(new Date(n),new Date(o))):(a>0&&s>0&&this.end>=r-1&&(s=a=0),n=this.start+s,o=this.end+a,this.zoomToIndexes(n,o)):n?(r=this.endTime-this.startTime,n=this.startTime-s*o,o=this.endTime-a*o,a>0&&s>0&&l>=n&&(n=l,o=l+r),this.zoomToDates(new Date(n),new Date(o))):(a>0&&s>0&&1>this.start&&(s=a=0),n=this.start-s,o=this.end-a,this.zoomToIndexes(n,o))}},validateData:function(e){this.marginsUpdated=!1,this.zoomOutOnDataUpdate&&!e&&(this.endTime=this.end=this.startTime=this.start=NaN);var i=e=!1,n=!1,o=this.chartScrollbar;o&&(o.dragging&&(e=!0,o.handleDragStop()),o.resizingRight&&(n=!0,o.rightDragStop()),o.resizingLeft&&(i=!0,o.leftDragStop())),t.AmSerialChart.base.validateData.call(this),e&&o.handleDragStart(),n&&o.rightDragStart(),i&&o.leftDragStart()},drawChart:function(){if(0<this.realWidth&&0<this.realHeight){t.AmSerialChart.base.drawChart.call(this);var e=this.chartData;if(t.ifArray(e)){var i=this.chartScrollbar;!i||!this.marginsUpdated&&this.autoMargins||i.draw(),(i=this.valueScrollbar)&&i.draw();var n,o,i=e.length-1;n=this.categoryAxis,n.parseDates&&!n.equalSpacing?(n=this.startTime,o=this.endTime,(isNaN(n)||isNaN(o))&&(n=this.firstTime,o=this.lastTime)):(n=this.start,o=this.end,(isNaN(n)||isNaN(o))&&(o=n=NaN),isNaN(n)&&(isNaN(this.startTime)||(n=this.getClosestIndex(e,"time",this.startTime,!0,0,e.length))),isNaN(o)&&(isNaN(this.endTime)||(o=this.getClosestIndex(e,"time",this.endTime,!1,0,e.length))),(isNaN(n)||isNaN(o))&&(n=0,o=i)),this.endTime=this.startTime=this.end=this.start=void 0,this.zoom(n,o)}}else this.cleanChart()},cleanChart:function(){t.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor,this.valueScrollbar])},updateCategoryAxis:function(t,e,i){t.chart=this,t.id=i,t.rotate=e,t.setOrientation(!this.rotate),t.init(),this.setAxisRenderers(t),this.updateObjectSize(t)},updateValueAxes:function(){t.AmSerialChart.base.updateValueAxes.call(this);var e,i=this.valueAxes;for(e=0;e<i.length;e++){var n=i[e],o=this.rotate;n.rotate=o,n.setOrientation(o),o=this.categoryAxis,(!o.startOnAxis||o.parseDates)&&(n.expandMinMax=!0)}},getStartTime:function(e){var i=this.categoryAxis;return t.resetDateToMin(new Date(e),i.minPeriod,1,i.firstDayOfWeek).getTime()},getEndTime:function(e){var i=t.extractPeriod(this.categoryAxis.minPeriod);return t.changeDate(new Date(e),i.period,i.count,!0).getTime()-1},updateMargins:function(){t.AmSerialChart.base.updateMargins.call(this);var e=this.chartScrollbar;e&&(this.getScrollbarPosition(e,this.rotate,this.categoryAxis.position),this.adjustMargins(e,this.rotate)),(e=this.valueScrollbar)&&(this.getScrollbarPosition(e,!this.rotate,this.valueAxes[0].position),this.adjustMargins(e,!this.rotate))},updateScrollbars:function(){t.AmSerialChart.base.updateScrollbars.call(this),this.updateChartScrollbar(this.chartScrollbar,this.rotate),this.updateChartScrollbar(this.valueScrollbar,!this.rotate)},zoom:function(t,e){var i=this.categoryAxis;i.parseDates&&!i.equalSpacing?(this.timeZoom(t,e),isNaN(t)&&this.zoomOutValueAxes()):this.indexZoom(t,e),(i=this.chartCursor)&&(i.pan||i.hideCursorReal()),this.updateLegendValues()},timeZoom:function(e,i){var n=this.maxSelectedTime;isNaN(n)||(i!=this.endTime&&i-e>n&&(e=i-n),e!=this.startTime&&i-e>n&&(i=e+n));var o=this.minSelectedTime;if(o>0&&o>i-e){var s=Math.round(e+(i-e)/2),o=Math.round(o/2);e=s-o,i=s+o}if(o=this.chartData,s=this.categoryAxis,t.ifArray(o)&&(e!=this.startTime||i!=this.endTime)){var a=s.minDuration(),r=this.firstTime,l=this.lastTime;e||(e=r,isNaN(n)||(e=l-n)),i||(i=l),e>l&&(e=l),r>i&&(i=r),r>e&&(e=r),i>l&&(i=l),e>i&&(i=e+a),a/5>i-e&&(l>i?i=e+a/5:e=i-a/5),this.startTime=e,this.endTime=i,n=o.length-1,a=this.getClosestIndex(o,"time",e,!0,0,n),o=this.getClosestIndex(o,"time",i,!1,a,n),s.timeZoom(e,i),s.zoom(a,o),this.start=t.fitToBounds(a,0,n),this.end=t.fitToBounds(o,0,n),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),this.showZB(),this.syncGrid(),this.updateColumnsDepth(),this.dispatchTimeZoomEvent()}},showZB:function(){var e,i=this.categoryAxis;i&&i.parseDates&&!i.equalSpacing&&(this.startTime>this.firstTime&&(e=!0),this.endTime<this.lastTime&&(e=!0)),0<this.start&&(e=!0),this.end<this.chartData.length-1&&(e=!0),(i=this.valueAxes)&&(i=i[0],isNaN(i.relativeStart)||(0!==t.roundTo(i.relativeStart,3)&&(e=!0),1!=t.roundTo(i.relativeEnd,3)&&(e=!0))),t.AmSerialChart.base.showZB.call(this,e)},updateAfterValueZoom:function(){t.AmSerialChart.base.updateAfterValueZoom.call(this),this.updateColumnsDepth()},indexZoom:function(t,e){var i=this.maxSelectedSeries,n=!1;if(isNaN(i)||(e!=this.end&&e-t>i&&(t=e-i,n=!0),t!=this.start&&e-t>i&&(e=t+i,n=!0)),n&&(n=this.chartScrollbar)&&n.dragger){var o=n.dragger.getBBox();n.maxWidth=o.width,n.maxHeight=o.height}(t!=this.start||e!=this.end)&&(n=this.chartData.length-1,isNaN(t)&&(t=0,isNaN(i)||(t=n-i)),isNaN(e)&&(e=n),t>e&&(e=t),e>n&&(e=n),t>n&&(t=n-1),0>t&&(t=0),this.start=t,this.end=e,this.categoryAxis.zoom(t,e),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),0!==t||e!=this.chartData.length-1?this.showZB(!0):this.showZB(!1),this.syncGrid(),this.updateColumnsDepth(),this.dispatchIndexZoomEvent())},updateGraphs:function(){t.AmSerialChart.base.updateGraphs.call(this);var e,i=this.graphs;for(e=0;e<i.length;e++){var n=i[e];n.columnWidthReal=this.columnWidth,n.categoryAxis=this.categoryAxis,t.isString(n.fillToGraph)&&(n.fillToGraph=this.graphsById[n.fillToGraph])}},zoomAxesAndGraphs:function(){t.AmSerialChart.base.zoomAxesAndGraphs.call(this),this.updateColumnsDepth()},updateColumnsDepth:function(){if(0!==this.depth3D||0!==this.angle){var e,i,n=this.graphs;for(this.columnsArray=[],e=0;e<n.length;e++){i=n[e];var o=i.columnsArray;if(o){var s;for(s=0;s<o.length;s++)this.columnsArray.push(o[s])}}if(this.columnsArray.sort(this.compareDepth),n=this.columnsSet,0<this.columnsArray.length){for(o=this.container.set(),this.columnSet.push(o),e=0;e<this.columnsArray.length;e++)o.push(this.columnsArray[e].column.set);i&&o.translate(i.x,i.y),this.columnsSet=o}t.remove(n)}},compareDepth:function(t,e){return t.depth>e.depth?1:-1},zoomScrollbar:function(){var t=this.chartScrollbar,e=this.categoryAxis;if(t){if(!this.zoomedByScrollbar){var i=t.dragger;i&&i.stop()}this.zoomedByScrollbar=!1,e.parseDates&&!e.equalSpacing?t.timeZoom(this.startTime,this.endTime):t.zoom(this.start,this.end)}this.zoomValueScrollbar(this.valueScrollbar)},updateTrendLines:function(){var e,i=this.trendLines;for(e=0;e<i.length;e++){var n=i[e],n=t.processObject(n,t.TrendLine,this.theme);i[e]=n,n.chart=this,n.id||(n.id="trendLineAuto"+e+"_"+(new Date).getTime()),t.isString(n.valueAxis)&&(n.valueAxis=this.getValueAxisById(n.valueAxis)),n.valueAxis||(n.valueAxis=this.valueAxes[0]),n.categoryAxis=this.categoryAxis}},validateNow:function(e,i){e&&this.zoomOutOnDataUpdate&&(this.endTime=this.end=this.startTime=this.start=NaN),t.AmSerialChart.base.validateNow.call(this,e,i)},countColumns:function(){var t,e,i,n,o=0,s=this.valueAxes.length,a=this.graphs.length,r=!1;for(n=0;s>n;n++){e=this.valueAxes[n];var l=e.stackType,h=0;if("100%"==l||"regular"==l)for(r=!1,i=0;a>i;i++)t=this.graphs[i],t.tcc=1,t.valueAxis==e&&"column"==t.type&&(!r&&t.stackable&&(o++,r=!0),(!t.stackable&&t.clustered||t.newStack&&0!==h)&&o++,t.columnIndex=o-1,t.clustered||(t.columnIndex=0),h++);if("none"==l||"3d"==l){for(h=!1,i=0;a>i;i++)t=this.graphs[i],t.valueAxis==e&&"column"==t.type&&(t.clustered?(t.tcc=1,t.newStack&&(o=0),t.hidden||(t.columnIndex=o,o++)):t.hidden||(h=!0,t.tcc=1,t.columnIndex=0));h&&0===o&&(o=1)}if("3d"==l){for(e=1,h=0;a>h;h++)t=this.graphs[h],t.newStack&&e++,t.depthCount=e,t.tcc=o;o=e}}return o},parseData:function(){t.AmSerialChart.base.parseData.call(this),this.parseSerialData(this.dataProvider)},getCategoryIndexByValue:function(t){var e,i=this.chartData;for(e=0;e<i.length;e++)if(i[e].category==t)return e},handleScrollbarZoom:function(t){this.zoomedByScrollbar=!0,this.zoom(t.start,t.end)},dispatchTimeZoomEvent:function(){if(this.drawGraphs&&(this.prevStartTime!=this.startTime||this.prevEndTime!=this.endTime)){var e={type:"zoomed"};e.startDate=new Date(this.startTime),e.endDate=new Date(this.endTime),e.startIndex=this.start,e.endIndex=this.end,this.startIndex=this.start,this.endIndex=this.end,this.startDate=e.startDate,this.endDate=e.endDate,this.prevStartTime=this.startTime,this.prevEndTime=this.endTime;var i=this.categoryAxis,n=t.extractPeriod(i.minPeriod).period,i=i.dateFormatsObject[n];e.startValue=t.formatDate(e.startDate,i,this),e.endValue=t.formatDate(e.endDate,i,this),e.chart=this,e.target=this,this.fire(e)}},dispatchIndexZoomEvent:function(){if(this.drawGraphs&&(this.prevStartIndex!=this.start||this.prevEndIndex!=this.end)){this.startIndex=this.start,this.endIndex=this.end;var e=this.chartData;if(t.ifArray(e)&&!isNaN(this.start)&&!isNaN(this.end)){var i={chart:this,target:this,type:"zoomed"};i.startIndex=this.start,i.endIndex=this.end,i.startValue=e[this.start].category,i.endValue=e[this.end].category,this.categoryAxis.parseDates&&(this.startTime=e[this.start].time,this.endTime=e[this.end].time,i.startDate=new Date(this.startTime),i.endDate=new Date(this.endTime)),this.prevStartIndex=this.start,this.prevEndIndex=this.end,this.fire(i)}}},updateLegendValues:function(){this.legend&&this.legend.updateValues()},getClosestIndex:function(t,e,i,n,o,s){0>o&&(o=0),s>t.length-1&&(s=t.length-1);var a=o+Math.round((s-o)/2),r=t[a][e];return i==r?a:1>=s-o?n?o:Math.abs(t[o][e]-i)<Math.abs(t[s][e]-i)?o:s:i==r?a:r>i?this.getClosestIndex(t,e,i,n,o,a):this.getClosestIndex(t,e,i,n,a,s)},zoomToIndexes:function(t,e){var i=this.chartData;if(i){var n=i.length;n>0&&(0>t&&(t=0),e>n-1&&(e=n-1),n=this.categoryAxis,n.parseDates&&!n.equalSpacing?this.zoom(i[t].time,this.getEndTime(i[e].time)):this.zoom(t,e))}},zoomToDates:function(e,i){var n=this.chartData;if(n)if(this.categoryAxis.equalSpacing){var o=this.getClosestIndex(n,"time",e.getTime(),!0,0,n.length);i=t.resetDateToMin(i,this.categoryAxis.minPeriod,1),n=this.getClosestIndex(n,"time",i.getTime(),!1,0,n.length),this.zoom(o,n)}else this.zoom(e.getTime(),i.getTime())},zoomToCategoryValues:function(t,e){this.chartData&&this.zoom(this.getCategoryIndexByValue(t),this.getCategoryIndexByValue(e))},formatPeriodString:function(e,i){if(i){i.periodDataItem={},i.periodPercentDataItem={};var n=["value","open","low","high","close"],o="value open low high close average sum count".split(" "),s=i.valueAxis,a=this.chartData,r=i.numberFormatter;r||(r=this.nf);for(var l=0;l<n.length;l++){for(var h,c,u,d,p,f,g,m,v,y,b=n[l],x=0,w=0,S=0,C=0,k=this.start;k<=this.end;k++){var T=a[k];if(T){var P=T.axes[s.id].graphs[i.id];if(P){if(P.values){var A=P.values[b],T=T.x.categoryAxis;this.rotate?(0>T||T>P.graph.height)&&(A=NaN):(0>T||T>P.graph.width)&&(A=NaN),isNaN(A)||(isNaN(h)&&(h=A),c=A,(isNaN(u)||u>A)&&(u=A),(isNaN(d)||A>d)&&(d=A),p=t.getDecimals(x),T=t.getDecimals(A),x+=A,x=t.roundTo(x,Math.max(p,T)),w++,p=x/w)}P.percents&&(P=P.percents[b],!isNaN(P))&&(isNaN(f)&&(f=P),g=P,(isNaN(m)||m>P)&&(m=P),(isNaN(v)||P>v)&&(v=P),y=t.getDecimals(S),A=t.getDecimals(P),S+=P,S=t.roundTo(S,Math.max(y,A)),C++,y=S/C)}}}x={open:h,close:c,high:d,low:u,average:p,sum:x,count:w},S={open:f,close:g,high:v,low:m,average:y,sum:S,count:C},e=t.formatValue(e,x,o,r,b+"\\.",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),e=t.formatValue(e,S,o,this.pf,"percents\\."+b+"\\."),i.periodDataItem[b]=x,i.periodPercentDataItem[b]=S}}return e=t.cleanFromEmpty(e)},formatString:function(e,i,n){if(i){var o=i.graph;if(void 0!==e){if(-1!=e.indexOf("[[category]]")){var s=i.serialDataItem.category;if(this.categoryAxis.parseDates){var a=this.balloonDateFormat,r=this.chartCursor;r&&r.categoryBalloonDateFormat&&(a=r.categoryBalloonDateFormat),a=t.formatDate(s,a,this),-1!=a.indexOf("fff")&&(a=t.formatMilliseconds(a,s)),s=a}e=e.replace(/\[\[category\]\]/g,String(s.replace("$","$$$")))}s=o.numberFormatter,s||(s=this.nf),a=i.graph.valueAxis,(r=a.duration)&&!isNaN(i.values.value)&&(r=t.formatDuration(i.values.value,r,"",a.durationUnits,a.maxInterval,s),e=e.replace(RegExp("\\[\\[value\\]\\]","g"),r)),"date"==a.type&&(a=t.formatDate(new Date(i.values.value),o.dateFormat,this),r=RegExp("\\[\\[value\\]\\]","g"),e=e.replace(r,a),a=t.formatDate(new Date(i.values.open),o.dateFormat,this),r=RegExp("\\[\\[open\\]\\]","g"),e=e.replace(r,a)),o="value open low high close total".split(" "),a=this.pf,e=t.formatValue(e,i.percents,o,a,"percents\\."),e=t.formatValue(e,i.values,o,s,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),e=t.formatValue(e,i.values,["percents"],a),-1!=e.indexOf("[[")&&(e=t.formatDataContextValue(e,i.dataContext)),-1!=e.indexOf("[[")&&i.graph.customData&&(e=t.formatDataContextValue(e,i.graph.customData)),e=t.AmSerialChart.base.formatString.call(this,e,i,n)}return e}},updateChartCursor:function(){t.AmSerialChart.base.updateChartCursor.call(this);var e=this.chartCursor,i=this.categoryAxis;if(e){var n=e.categoryBalloonAlpha,o=e.categoryBalloonColor,s=e.color;void 0===o&&(o=e.cursorColor);var a=e.valueZoomable,r=e.zoomable,l=e.valueLineEnabled;if(this.rotate?(e.vLineEnabled=l,e.hZoomEnabled=a,e.vZoomEnabled=r):(e.hLineEnabled=l,e.vZoomEnabled=a,e.hZoomEnabled=r),e.valueLineBalloonEnabled)for(l=0;l<this.valueAxes.length;l++)a=this.valueAxes[l],(r=a.balloon)||(r={}),r=t.extend(r,this.balloon,!0),r.fillColor=o,r.balloonColor=o,r.fillAlpha=n,r.borderColor=o,r.color=s,a.balloon=r;else for(r=0;r<this.valueAxes.length;r++)a=this.valueAxes[r],a.balloon&&(a.balloon=null);i&&(i.balloonTextFunction=e.categoryBalloonFunction,e.categoryLineAxis=i,i.balloonText=e.categoryBalloonText,e.categoryBalloonEnabled&&((r=i.balloon)||(r={}),r=t.extend(r,this.balloon,!0),r.fillColor=o,r.balloonColor=o,r.fillAlpha=n,r.borderColor=o,r.color=s,i.balloon=r),i.balloon&&(i.balloon.enabled=e.categoryBalloonEnabled))}},addChartScrollbar:function(e){t.callMethod("destroy",[this.chartScrollbar]),e&&(e.chart=this,this.listenTo(e,"zoomed",this.handleScrollbarZoom)),this.rotate?void 0===e.width&&(e.width=e.scrollbarHeight):void 0===e.height&&(e.height=e.scrollbarHeight),e.gridAxis=this.categoryAxis,this.chartScrollbar=e},addValueScrollbar:function(e){t.callMethod("destroy",[this.valueScrollbar]),e&&(e.chart=this,this.listenTo(e,"zoomed",this.handleScrollbarValueZoom),this.listenTo(e,"zoomStarted",this.handleCursorZoomStarted));var i=e.scrollbarHeight;this.rotate?void 0===e.height&&(e.height=i):void 0===e.width&&(e.width=i),e.gridAxis||(e.gridAxis=this.valueAxes[0]),e.valueAxes=this.valueAxes,this.valueScrollbar=e},removeChartScrollbar:function(){t.callMethod("destroy",[this.chartScrollbar]),this.chartScrollbar=null},removeValueScrollbar:function(){t.callMethod("destroy",[this.valueScrollbar]),this.valueScrollbar=null},handleReleaseOutside:function(e){t.AmSerialChart.base.handleReleaseOutside.call(this,e),t.callMethod("handleReleaseOutside",[this.chartScrollbar,this.valueScrollbar])},update:function(){t.AmSerialChart.base.update.call(this),this.chartScrollbar&&this.chartScrollbar.update&&this.chartScrollbar.update(),this.valueScrollbar&&this.valueScrollbar.update&&this.valueScrollbar.update()},processScrollbars:function(){t.AmSerialChart.base.processScrollbars.call(this);var e=this.valueScrollbar;e&&(e=t.processObject(e,t.ChartScrollbar,this.theme),e.id="valueScrollbar",this.addValueScrollbar(e))},handleValueAxisZoom:function(t){this.handleValueAxisZoomReal(t,this.valueAxes)},zoomOut:function(){t.AmSerialChart.base.zoomOut.call(this),this.zoom(),this.syncGrid()},getNextItem:function(t){var e=t.index,i=this.chartData,n=t.graph;if(e+1<i.length)for(e+=1;e<i.length;e++)if((t=i[e])&&(t=t.axes[n.valueAxis.id].graphs[n.id],!isNaN(t.y)))return t},handleCursorZoomReal:function(t,e,i,n,o){var s,a,r=o.target;this.rotate?(isNaN(t)||isNaN(e)||this.relativeZoomValueAxes(this.valueAxes,t,e)&&this.updateAfterValueZoom(),r.vZoomEnabled&&(s=o.start,a=o.end)):(isNaN(i)||isNaN(n)||this.relativeZoomValueAxes(this.valueAxes,i,n)&&this.updateAfterValueZoom(),r.hZoomEnabled&&(s=o.start,a=o.end)),isNaN(s)||isNaN(a)||(t=this.categoryAxis,t.parseDates&&!t.equalSpacing?this.zoomToDates(new Date(s),new Date(a)):this.zoomToIndexes(s,a))},handleCursorZoomStarted:function(){var t=this.valueAxes;if(t){var t=t[0],e=t.relativeStart,i=t.relativeEnd;t.reversed&&(e=1-t.relativeEnd,i=1-t.relativeStart),this.rotate?(this.startX0=e,this.endX0=i):(this.startY0=e,this.endY0=i)}this.categoryAxis&&(this.start0=this.start,this.end0=this.end,this.startTime0=this.startTime,this.endTime0=this.endTime)},fixCursor:function(){this.chartCursor&&this.chartCursor.fixPosition(),this.prevCursorItem=null},handleCursorMove:function(e){t.AmSerialChart.base.handleCursorMove.call(this,e);var i=e.target,n=this.categoryAxis;if(e.panning)this.handleCursorHide(e);else if(this.chartData&&!i.isHidden){var o=this.graphs;if(o){var s;if(s=n.xToIndex(this.rotate?e.y:e.x),s=this.chartData[s]){var a,r,l,h;if(i.oneBalloonOnly&&i.valueBalloonsEnabled){var c=1/0;for(a=o.length-1;a>=0;a--)if(r=o[a],r.balloon.enabled&&r.showBalloon&&!r.hidden){if(l=r.valueAxis.id,l=s.axes[l].graphs[r.id],i.showNextAvailable&&isNaN(l.y)&&(l=this.getNextItem(l),!l))continue;l=l.y,"top"==r.showBalloonAt&&(l=0),"bottom"==r.showBalloonAt&&(l=this.height);var u=i.mouseX,d=i.mouseY;l=this.rotate?Math.abs(u-l):Math.abs(d-l),c>l&&(c=l,h=r)}i.mostCloseGraph=h}if(this.prevCursorItem!=s||h!=this.prevMostCloseGraph){for(c=[],a=0;a<o.length;a++)r=o[a],l=r.valueAxis.id,
l=s.axes[l].graphs[r.id],i.showNextAvailable&&isNaN(l.y)&&(l=this.getNextItem(l),!l&&r.balloon)?r.balloon.hide():h&&r!=h?(r.showGraphBalloon(l,i.pointer,!1,i.graphBulletSize,i.graphBulletAlpha),r.balloon.hide(0)):i.valueBalloonsEnabled?(r.balloon.showBullet=i.bulletsEnabled,r.balloon.bulletSize=i.bulletSize/2,e.hideBalloons||(r.showGraphBalloon(l,i.pointer,!1,i.graphBulletSize,i.graphBulletAlpha),r.balloon.set&&c.push({balloon:r.balloon,y:r.balloon.pointToY}))):(r.currentDataItem=l,r.resizeBullet(l,i.graphBulletSize,i.graphBulletAlpha));i.avoidBalloonOverlapping&&this.arrangeBalloons(c),this.prevCursorItem=s}this.prevMostCloseGraph=h}}o=t.fitToBounds(e.x,0,i.width),h=t.fitToBounds(e.y,0,i.height),n.showBalloon(o,h,i.categoryBalloonDateFormat,e.skip),this.updateLegendValues()}},handleCursorHide:function(e){t.AmSerialChart.base.handleCursorHide.call(this,e),e=this.categoryAxis,this.prevCursorItem=null,this.updateLegendValues(),e&&e.hideBalloon(),e=this.graphs;var i;for(i=0;i<e.length;i++)e[i].currentDataItem=null},handleCursorPanning:function(e){var i,n=e.target,o=e.deltaX,s=e.deltaY,a=e.delta2X,r=e.delta2Y;if(e=!1,this.rotate){isNaN(a)&&(a=o,e=!0);var l=this.endX0;i=this.startX0;var h=l-i,l=l-h*a,c=h;e||(c=0),e=t.fitToBounds(i-h*o,0,1-c)}else isNaN(r)&&(r=s,e=!0),l=this.endY0,i=this.startY0,h=l-i,l+=h*s,c=h,e||(c=0),e=t.fitToBounds(i+h*r,0,1-c);i=t.fitToBounds(l,c,1);var u;n.valueZoomable&&(u=this.relativeZoomValueAxes(this.valueAxes,e,i));var d;i=this.categoryAxis,this.rotate&&(o=s,a=r),e=!1,isNaN(a)&&(a=o,e=!0),n.zoomable&&(0<Math.abs(o)||0<Math.abs(a))&&(i.parseDates&&!i.equalSpacing?(r=this.startTime0,s=this.endTime0,i=s-r,a*=i,h=this.firstTime,l=this.lastTime,c=i,e||(c=0),e=Math.round(t.fitToBounds(r-i*o,h,l-c)),a=Math.round(t.fitToBounds(s-a,h+c,l)),(this.startTime!=e||this.endTime!=a)&&(d={chart:this,target:n,type:"zoomed",start:e,end:a},this.skipZoomed=!0,n.fire(d),this.zoom(e,a),d=!0)):(r=this.start0,s=this.end0,i=s-r,o=Math.round(i*o),a=Math.round(i*a),h=this.chartData.length-1,e||(i=0),e=t.fitToBounds(r-o,0,h-i),i=t.fitToBounds(s-a,i,h),(this.start!=e||this.end!=i)&&(this.skipZoomed=!0,n.fire({chart:this,target:n,type:"zoomed",start:e,end:i}),this.zoom(e,i),d=!0))),!d&&u&&this.updateAfterValueZoom()},arrangeBalloons:function(t){var e=this.plotAreaHeight;t.sort(this.compareY);var i,n,o,s=this.plotAreaWidth,a=t.length;for(i=0;a>i;i++)n=t[i].balloon,n.setBounds(0,0,s,e),n.restorePrevious(),n.draw(),e=n.yPos-3;for(t.reverse(),i=0;a>i;i++){n=t[i].balloon;var e=n.bottom,r=n.bottom-n.yPos;i>0&&o+3>e-r&&n.setBounds&&(n.setBounds(0,o+3,s,o+r+3),n.restorePrevious(),n.draw()),n.set&&n.set.show(),o=n.bottom}},compareY:function(t,e){return t.y<e.y?1:-1}})}(),function(){var t=window.AmCharts;t.Cuboid=t.Class({construct:function(t,e,i,n,o,s,a,r,l,h,c,u,d,p,f,g,m){this.set=t.set(),this.container=t,this.h=Math.round(i),this.w=Math.round(e),this.dx=n,this.dy=o,this.colors=s,this.alpha=a,this.bwidth=r,this.bcolor=l,this.balpha=h,this.dashLength=p,this.topRadius=g,this.pattern=f,this.rotate=d,this.bcn=m,d?0>e&&0===c&&(c=180):0>i&&270==c&&(c=90),this.gradientRotation=c,0===n&&0===o&&(this.cornerRadius=u),this.draw()},draw:function(){var e=this.set;e.clear();var i=this.container,n=i.chart,o=this.w,s=this.h,a=this.dx,r=this.dy,l=this.colors,h=this.alpha,c=this.bwidth,u=this.bcolor,d=this.balpha,p=this.gradientRotation,f=this.cornerRadius,g=this.dashLength,m=this.pattern,v=this.topRadius,y=this.bcn,b=l,x=l;"object"==typeof l&&(b=l[0],x=l[l.length-1]);var w,S,C,k,T,P,A,L,M,F=h;m&&(h=0);var z,R,E,D,W=this.rotate;if(0<Math.abs(a)||0<Math.abs(r))if(isNaN(v))A=x,x=t.adjustLuminosity(b,-.2),x=t.adjustLuminosity(b,-.2),w=t.polygon(i,[0,a,o+a,o,0],[0,r,r,0,0],x,h,1,u,0,p),d>0&&(M=t.line(i,[0,a,o+a],[0,r,r],u,d,c,g)),S=t.polygon(i,[0,0,o,o,0],[0,s,s,0,0],x,h,1,u,0,p),S.translate(a,r),d>0&&(C=t.line(i,[a,a],[r,r+s],u,d,c,g)),k=t.polygon(i,[0,0,a,a,0],[0,s,s+r,r,0],x,h,1,u,0,p),T=t.polygon(i,[o,o,o+a,o+a,o],[0,s,s+r,r,0],x,h,1,u,0,p),d>0&&(P=t.line(i,[o,o+a,o+a,o],[0,r,s+r,s],u,d,c,g)),x=t.adjustLuminosity(A,.2),A=t.polygon(i,[0,a,o+a,o,0],[s,s+r,s+r,s,s],x,h,1,u,0,p),d>0&&(L=t.line(i,[0,a,o+a],[s,s+r,s+r],u,d,c,g));else{var N,I,O;W?(N=s/2,x=a/2,O=s/2,I=o+a/2,R=Math.abs(s/2),z=Math.abs(a/2)):(x=o/2,N=r/2,I=o/2,O=s+r/2+1,z=Math.abs(o/2),R=Math.abs(r/2)),E=z*v,D=R*v,z>.1&&z>.1&&(w=t.circle(i,z,b,h,c,u,d,!1,R),w.translate(x,N)),E>.1&&E>.1&&(A=t.circle(i,E,t.adjustLuminosity(b,.5),h,c,u,d,!1,D),A.translate(I,O))}for(h=F,1>Math.abs(s)&&(s=0),1>Math.abs(o)&&(o=0),!isNaN(v)&&(0<Math.abs(a)||0<Math.abs(r))?(l=[b],l={fill:l,stroke:u,"stroke-width":c,"stroke-opacity":d,"fill-opacity":h},W?(h="M0,0 L"+o+","+(s/2-s/2*v),c=" B",o>0&&(c=" A"),t.VML?(h+=c+Math.round(o-E)+","+Math.round(s/2-D)+","+Math.round(o+E)+","+Math.round(s/2+D)+","+o+",0,"+o+","+s,h=h+(" L0,"+s)+(c+Math.round(-z)+","+Math.round(s/2-R)+","+Math.round(z)+","+Math.round(s/2+R)+",0,"+s+",0,0")):(h+="A"+E+","+D+",0,0,0,"+o+","+(s-s/2*(1-v))+"L0,"+s,h+="A"+z+","+R+",0,0,1,0,0"),z=90):(c=o/2-o/2*v,h="M0,0 L"+c+","+s,t.VML?(h="M0,0 L"+c+","+s,c=" B",0>s&&(c=" A"),h+=c+Math.round(o/2-E)+","+Math.round(s-D)+","+Math.round(o/2+E)+","+Math.round(s+D)+",0,"+s+","+o+","+s,h+=" L"+o+",0",h+=c+Math.round(o/2+z)+","+Math.round(R)+","+Math.round(o/2-z)+","+Math.round(-R)+","+o+",0,0,0"):(h+="A"+E+","+D+",0,0,0,"+(o-o/2*(1-v))+","+s+"L"+o+",0",h+="A"+z+","+R+",0,0,1,0,0"),z=180),i=i.path(h).attr(l),i.gradient("linearGradient",[b,t.adjustLuminosity(b,-.3),t.adjustLuminosity(b,-.3),b],z),W?i.translate(a/2,0):i.translate(0,r/2)):i=0===s?t.line(i,[0,o],[0,0],u,d,c,g):0===o?t.line(i,[0,0],[0,s],u,d,c,g):f>0?t.rect(i,o,s,l,h,c,u,d,f,p,g):t.polygon(i,[0,0,o,o,0],[0,s,s,0,0],l,h,c,u,d,p,!1,g),o=isNaN(v)?0>s?[w,M,S,C,k,T,P,A,L,i]:[A,L,S,C,k,T,w,M,P,i]:W?o>0?[w,i,A]:[A,i,w]:0>s?[w,i,A]:[A,i,w],t.setCN(n,i,y+"front"),t.setCN(n,S,y+"back"),t.setCN(n,A,y+"top"),t.setCN(n,w,y+"bottom"),t.setCN(n,k,y+"left"),t.setCN(n,T,y+"right"),w=0;w<o.length;w++)(S=o[w])&&(e.push(S),t.setCN(n,S,y+"element"));m&&i.pattern(m,NaN,n.path)},width:function(t){isNaN(t)&&(t=0),this.w=Math.round(t),this.draw()},height:function(t){isNaN(t)&&(t=0),this.h=Math.round(t),this.draw()},animateHeight:function(e,i){var n=this;n.animationFinished=!1,n.easing=i,n.totalFrames=e*t.updateRate,n.rh=n.h,n.frame=0,n.height(1),setTimeout(function(){n.updateHeight.call(n)},1e3/t.updateRate)},updateHeight:function(){var e=this;e.frame++;var i=e.totalFrames;e.frame<=i?(i=e.easing(0,e.frame,1,e.rh-1,i),e.height(i),window.requestAnimationFrame?window.requestAnimationFrame(function(){e.updateHeight.call(e)}):setTimeout(function(){e.updateHeight.call(e)},1e3/t.updateRate)):(e.height(e.rh),e.animationFinished=!0)},animateWidth:function(e,i){var n=this;n.animationFinished=!1,n.easing=i,n.totalFrames=e*t.updateRate,n.rw=n.w,n.frame=0,n.width(1),setTimeout(function(){n.updateWidth.call(n)},1e3/t.updateRate)},updateWidth:function(){var e=this;e.frame++;var i=e.totalFrames;e.frame<=i?(i=e.easing(0,e.frame,1,e.rw-1,i),e.width(i),window.requestAnimationFrame?window.requestAnimationFrame(function(){e.updateWidth.call(e)}):setTimeout(function(){e.updateWidth.call(e)},1e3/t.updateRate)):(e.width(e.rw),e.animationFinished=!0)}})}(),function(){var t=window.AmCharts;t.CategoryAxis=t.Class({inherits:t.AxisBase,construct:function(e){this.cname="CategoryAxis",t.CategoryAxis.base.construct.call(this,e),this.minPeriod="DD",this.equalSpacing=this.parseDates=!1,this.position="bottom",this.startOnAxis=!1,this.gridPosition="middle",this.safeDistance=30,this.stickBalloonToCategory=!1,t.applyTheme(this,e,this.cname)},draw:function(){t.CategoryAxis.base.draw.call(this),this.generateDFObject();var e=this.chart.chartData;if(this.data=e,this.labelRotationR=this.labelRotation,this.type=null,t.ifArray(e)){var i,n=this.chart;"scrollbar"!=this.id?(t.setCN(n,this.set,"category-axis"),t.setCN(n,this.labelsSet,"category-axis"),t.setCN(n,this.axisLine.axisSet,"category-axis")):this.bcn=this.id+"-";var o,s,a,r,l,h,c=this.start,u=this.labelFrequency,d=0,p=this.end-c+1,f=this.gridCountR,g=this.showFirstLabel,m=this.showLastLabel,v="",v=t.extractPeriod(this.minPeriod),y=t.getPeriodDuration(v.period,v.count),b=this.rotate,x=this.firstDayOfWeek,w=this.boldPeriodBeginning;i=t.resetDateToMin(new Date(e[e.length-1].time+1.05*y),this.minPeriod,1,x).getTime(),this.firstTime=n.firstTime,this.endTime>i&&(this.endTime=i),h=this.minorGridEnabled,a=this.gridAlpha;var S=0,C=0;if(this.widthField)for(i=this.start;i<=this.end;i++)if(l=this.data[i]){var k=Number(this.data[i].dataContext[this.widthField]);isNaN(k)||(S+=k,l.widthValue=k)}if(this.parseDates&&!this.equalSpacing)this.lastTime=e[e.length-1].time,this.maxTime=t.resetDateToMin(new Date(this.lastTime+1.05*y),this.minPeriod,1,x).getTime(),this.timeDifference=this.endTime-this.startTime,this.parseDatesDraw();else if(this.parseDates){if(this.parseDates&&this.equalSpacing){if(d=this.start,this.startTime=this.data[this.start].time,this.endTime=this.data[this.end].time,this.timeDifference=this.endTime-this.startTime,i=this.choosePeriod(0),u=i.period,s=i.count,i=t.getPeriodDuration(u,s),y>i&&(u=v.period,s=v.count,i=y),a=u,"WW"==a&&(a="DD"),this.currentDateFormat=this.dateFormatsObject[a],this.stepWidth=this.getStepWidth(p),f=Math.ceil(this.timeDifference/i)+1,v=t.resetDateToMin(new Date(this.startTime-i),u,s,x).getTime(),this.cellWidth=this.getStepWidth(p),p=Math.round(v/i),c=-1,p/2==Math.round(p/2)&&(c=-2,v-=i),p=this.start,p/2==Math.round(p/2)&&p--,0>p&&(p=0),C=this.end+2,C>=this.data.length&&(C=this.data.length),e=!1,e=!g,this.previousPos=-1e3,20<this.labelRotationR&&(this.safeDistance=5),k=p,this.data[p].time!=t.resetDateToMin(new Date(this.data[p].time),u,s,x).getTime()){var y=0,T=v;for(i=p;C>i;i++)l=this.data[i].time,this.checkPeriodChange(u,s,l,T)&&(y++,y>=2&&(k=i,i=C),T=l)}if(h&&s>1&&(l=this.chooseMinorFrequency(s),t.getPeriodDuration(u,l)),0<this.gridCountR)for(i=p;C>i;i++)l=this.data[i].time,this.checkPeriodChange(u,s,l,v)&&i>=k&&(p=this.getCoordinate(i-this.start),h=!1,this.nextPeriod[a]&&(h=this.checkPeriodChange(this.nextPeriod[a],1,l,v,a))&&t.resetDateToMin(new Date(l),this.nextPeriod[a],1,x).getTime()!=l&&(h=!1),y=!1,h&&this.markPeriodChange?(h=this.dateFormatsObject[this.nextPeriod[a]],y=!0):h=this.dateFormatsObject[a],v=t.formatDate(new Date(l),h,n),(i==c&&!g||i==f&&!m)&&(v=" "),e?e=!1:(w||(y=!1),p-this.previousPos>this.safeDistance*Math.cos(this.labelRotationR*Math.PI/180)&&(this.labelFunction&&(v=this.labelFunction(v,new Date(l),this,u,s,r)),this.boldLabels&&(y=!0),o=new this.axisItemRenderer(this,p,v,void 0,void 0,void 0,void 0,y),h=o.graphics(),this.pushAxisItem(o),h=h.getBBox().width,t.isModern||(h-=p),this.previousPos=p+h)),r=v=l)}}else if(this.cellWidth=this.getStepWidth(p),f>p&&(f=p),d+=this.start,this.stepWidth=this.getStepWidth(p),f>0)for(x=Math.floor(p/f),l=this.chooseMinorFrequency(x),p=d,p/2==Math.round(p/2)&&p--,0>p&&(p=0),w=0,this.widthField&&(p=this.start,x=1),this.end-p+1>=this.autoRotateCount&&(this.labelRotationR=this.autoRotateAngle),i=p;i<=this.end+2;i++){if(f=!1,i>=0&&i<this.data.length?(s=this.data[i],v=s.category,f=s.forceShow):v="",h&&!isNaN(l)){if(i/l!=Math.round(i/l)&&!f)continue;i/x==Math.round(i/x)||f||(this.gridAlpha=this.minorGridAlpha,v=void 0)}else if(i/x!=Math.round(i/x)&&!f)continue;p=this.getCoordinate(i-d),f=0,"start"==this.gridPosition&&(p-=this.cellWidth/2,f=this.cellWidth/2),o=!0,r=f,"start"==this.tickPosition&&(r=0,o=!1,f=0),(i==c&&!g||i==this.end&&!m)&&(v=void 0),Math.round(w/u)!=w/u&&(v=void 0),w++,e=this.cellWidth,b&&(e=NaN,this.ignoreAxisWidth||!n.autoMargins)&&(e="right"==this.position?n.marginRight-this.titleWidth:n.marginLeft-this.titleWidth,e-=this.tickLength+10),this.labelFunction&&s&&(v=this.labelFunction(v,s,this)),v=t.fixBrakes(v),y=!1,this.boldLabels&&(y=!0),i>this.end&&"start"==this.tickPosition&&(v=" "),this.rotate&&this.inside&&(f-=2),isNaN(s.widthValue)||(s.percentWidthValue=s.widthValue/S*100,e=this.rotate?this.height*s.widthValue/S:this.width*s.widthValue/S,p=C,C+=e,r=f=e/2),o=new this.axisItemRenderer(this,p,v,o,e,f,void 0,y,r,!1,s.labelColor,s.className),o.serialDataItem=s,this.pushAxisItem(o),this.gridAlpha=a}for(i=g=0;i<this.data.length;i++)(l=this.data[i])&&(this.parseDates&&!this.equalSpacing?(m=l.time,c=this.cellWidth,"MM"==this.minPeriod&&(c=864e5*t.daysInMonth(new Date(m))*this.stepWidth,l.cellWidth=c),m=Math.round((m-this.startTime)*this.stepWidth+c/2)):m=this.getCoordinate(i-d),l.x[this.id]=m);if(this.widthField)for(i=this.start;i<=this.end;i++)l=this.data[i],c=l.widthValue,l.percentWidthValue=c/S*100,this.rotate?(m=this.height*c/S/2+g,g=this.height*c/S+g):(m=this.width*c/S/2+g,g=this.width*c/S+g),l.x[this.id]=m;for(S=this.guides.length,i=0;S>i;i++)g=this.guides[i],x=x=x=h=c=NaN,m=g.above,g.toCategory&&(x=n.getCategoryIndexByValue(g.toCategory),isNaN(x)||(c=this.getCoordinate(x-d),g.expand&&(c+=this.cellWidth/2),o=new this.axisItemRenderer(this,c,"",!0,NaN,NaN,g),this.pushAxisItem(o,m))),g.category&&(x=n.getCategoryIndexByValue(g.category),isNaN(x)||(h=this.getCoordinate(x-d),g.expand&&(h-=this.cellWidth/2),x=(c-h)/2,o=new this.axisItemRenderer(this,h,g.label,!0,NaN,x,g),this.pushAxisItem(o,m))),w=n.dataDateFormat,g.toDate&&(!w||g.toDate instanceof Date||(g.toDate=g.toDate.toString()+" |"),g.toDate=t.getDate(g.toDate,w),this.equalSpacing?(x=n.getClosestIndex(this.data,"time",g.toDate.getTime(),!1,0,this.data.length-1),isNaN(x)||(c=this.getCoordinate(x-d))):c=(g.toDate.getTime()-this.startTime)*this.stepWidth,o=new this.axisItemRenderer(this,c,"",!0,NaN,NaN,g),this.pushAxisItem(o,m)),g.date&&(!w||g.date instanceof Date||(g.date=g.date.toString()+" |"),g.date=t.getDate(g.date,w),this.equalSpacing?(x=n.getClosestIndex(this.data,"time",g.date.getTime(),!1,0,this.data.length-1),isNaN(x)||(h=this.getCoordinate(x-d))):h=(g.date.getTime()-this.startTime)*this.stepWidth,x=(c-h)/2,o=!0,g.toDate&&(o=!1),o="H"==this.orientation?new this.axisItemRenderer(this,h,g.label,o,2*x,NaN,g):new this.axisItemRenderer(this,h,g.label,!1,NaN,x,g),this.pushAxisItem(o,m)),o&&(x=o.label)&&this.addEventListeners(x,g),(c>0||h>0)&&(x=!1,this.rotate?(c<this.height||h<this.height)&&(x=!0):(c<this.width||h<this.width)&&(x=!0),x&&(c=new this.guideFillRenderer(this,h,c,g),h=c.graphics(),this.pushAxisItem(c,m),g.graphics=h,h.index=i,this.addEventListeners(h,g)));(n=n.chartCursor)&&(b?n.fixHeight(this.cellWidth):(n.fixWidth(this.cellWidth),n.fullWidth&&this.balloon&&(this.balloon.minWidth=this.cellWidth))),this.previousHeight=P}this.axisCreated=!0,this.set.translate(this.x,this.y),this.labelsSet.translate(this.x,this.y),this.labelsSet.show(),this.positionTitle(),(b=this.axisLine.set)&&b.toFront();var P=this.getBBox().height;2<P-this.previousHeight&&this.autoWrap&&!this.parseDates&&(this.axisCreated=this.chart.marginsUpdated=!1)},xToIndex:function(e){var i,n=this.data,o=this.chart,s=o.rotate,a=this.stepWidth;if(this.parseDates&&!this.equalSpacing)e=this.startTime+Math.round(e/a)-this.minDuration()/2,i=o.getClosestIndex(n,"time",e,!1,this.start,this.end+1);else if(this.widthField)for(o=1/0,a=this.start;a<=this.end;a++){var r=this.data[a];r&&(r=Math.abs(r.x[this.id]-e),o>r&&(o=r,i=a))}else this.startOnAxis||(e-=a/2),i=this.start+Math.round(e/a);i=t.fitToBounds(i,0,n.length-1);var l;return n[i]&&(l=n[i].x[this.id]),s?l>this.height+1&&i--:l>this.width+1&&i--,0>l&&i++,i=t.fitToBounds(i,0,n.length-1)},dateToCoordinate:function(t){return this.parseDates&&!this.equalSpacing?(t.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(t=this.chart.getClosestIndex(this.data,"time",t.getTime(),!1,0,this.data.length-1),this.getCoordinate(t-this.start)):NaN},categoryToCoordinate:function(t){return this.chart?this.parseDates?this.dateToCoordinate(new Date(t)):(t=this.chart.getCategoryIndexByValue(t),isNaN(t)?void 0:this.getCoordinate(t-this.start)):NaN},coordinateToDate:function(t){return this.equalSpacing?(t=this.xToIndex(t),new Date(this.data[t].time)):new Date(this.startTime+t/this.stepWidth)},coordinateToValue:function(t){return t=this.xToIndex(t),(t=this.data[t])?this.parseDates?t.time:t.category:void 0},getCoordinate:function(t){return t*=this.stepWidth,this.startOnAxis||(t+=this.stepWidth/2),Math.round(t)},formatValue:function(e,i){return i||(i=this.currentDateFormat),this.parseDates&&(e=t.formatDate(new Date(e),i,this.chart)),e},showBalloonAt:function(t,e){return void 0===e&&(e=this.parseDates?this.dateToCoordinate(new Date(t)):this.categoryToCoordinate(t)),this.adjustBalloonCoordinate(e)},formatBalloonText:function(e,i,n){var o="",s="",a=this.chart,r=this.data[i];if(r)if(this.parseDates)o=t.formatDate(r.category,n,a),i=t.changeDate(new Date(r.category),this.minPeriod,1),s=t.formatDate(i,n,a),-1!=o.indexOf("fff")&&(o=t.formatMilliseconds(o,r.category),s=t.formatMilliseconds(s,i));else{var l;this.data[i+1]&&(l=this.data[i+1]),o=t.fixNewLines(r.category),l&&(s=t.fixNewLines(l.category))}return e=e.replace(/\[\[category\]\]/g,String(o)),e=e.replace(/\[\[toCategory\]\]/g,String(s))},adjustBalloonCoordinate:function(t,e){var i=this.xToIndex(t),n=this.chart.chartCursor;if(this.stickBalloonToCategory){var o=this.data[i];o&&(t=o.x[this.id]),this.stickBalloonToStart&&(t-=this.cellWidth/2);var s=0;if(n){var a=n.limitToGraph;if(a){var r=a.valueAxis.id;a.hidden||(s=o.axes[r].graphs[a.id].y)}this.rotate?("left"==this.position?(a&&(s-=n.width),s>0&&(s=0)):0>s&&(s=0),n.fixHLine(t,s)):("top"==this.position?(a&&(s-=n.height),s>0&&(s=0)):0>s&&(s=0),n.fullWidth&&(t+=1),n.fixVLine(t,s))}}return n&&!e&&(n.setIndex(i),this.parseDates&&n.setTimestamp(this.coordinateToDate(t).getTime())),t}})}();