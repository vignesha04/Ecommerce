!function(t){var e=!1,i=!1,o=5e3,s=2e3,n=0,l=function(){var t=document.getElementsByTagName("script"),t=t[t.length-1].src.split("?")[0];return 0<t.split("/").length?t.split("/").slice(0,-1).join("/")+"/":""}(),r=["ms","moz","webkit","o"],h=window.requestAnimationFrame||!1,c=window.cancelAnimationFrame||!1;if(!h)for(var u in r){var d=r[u];h||(h=window[d+"RequestAnimationFrame"]),c||(c=window[d+"CancelAnimationFrame"]||window[d+"CancelRequestAnimationFrame"])}var p=window.MutationObserver||window.WebKitMutationObserver||!1,f={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:!1,cursordragontouch:!1,oneaxismousemode:"auto"},g=!1,m=function(){if(g)return g;var t=document.createElement("DIV"),e={haspointerlock:"pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document};e.isopera="opera"in window,e.isopera12=e.isopera&&"getUserMedia"in navigator,e.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),e.isie="all"in document&&"attachEvent"in t&&!e.isopera,e.isieold=e.isie&&!("msInterpolationMode"in t.style),e.isie7=e.isie&&!e.isieold&&(!("documentMode"in document)||7==document.documentMode),e.isie8=e.isie&&"documentMode"in document&&8==document.documentMode,e.isie9=e.isie&&"performance"in window&&9<=document.documentMode,e.isie10=e.isie&&"performance"in window&&10<=document.documentMode,e.isie9mobile=/iemobile.9/i.test(navigator.userAgent),e.isie9mobile&&(e.isie9=!1),e.isie7mobile=!e.isie9mobile&&e.isie7&&/iemobile/i.test(navigator.userAgent),e.ismozilla="MozAppearance"in t.style,e.iswebkit="WebkitAppearance"in t.style,e.ischrome="chrome"in window,e.ischrome22=e.ischrome&&e.haspointerlock,e.ischrome26=e.ischrome&&"transition"in t.style,e.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,e.hasmstouch=window.navigator.msPointerEnabled||!1,e.ismac=/^mac$/i.test(navigator.platform),e.isios=e.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform),e.isios4=e.isios&&!("seal"in Object),e.isandroid=/android/i.test(navigator.userAgent),e.trstyle=!1,e.hastransform=!1,e.hastranslate3d=!1,e.transitionstyle=!1,e.hastransition=!1,e.transitionend=!1;for(var i=["transform","msTransform","webkitTransform","MozTransform","OTransform"],o=0;o<i.length;o++)if("undefined"!=typeof t.style[i[o]]){e.trstyle=i[o];break}e.hastransform=0!=e.trstyle,e.hastransform&&(t.style[e.trstyle]="translate3d(1px,2px,3px)",e.hastranslate3d=/translate3d/.test(t.style[e.trstyle])),e.transitionstyle=!1,e.prefixstyle="",e.transitionend=!1;for(var i="transition webkitTransition MozTransition OTransition OTransition msTransition KhtmlTransition".split(" "),s=" -webkit- -moz- -o- -o -ms- -khtml-".split(" "),n="transitionend webkitTransitionEnd transitionend otransitionend oTransitionEnd msTransitionEnd KhtmlTransitionEnd".split(" "),o=0;o<i.length;o++)if(i[o]in t.style){e.transitionstyle=i[o],e.prefixstyle=s[o],e.transitionend=n[o];break}e.ischrome26&&(e.prefixstyle=s[1]),e.hastransition=e.transitionstyle;t:{for(i=["-moz-grab","-webkit-grab","grab"],(e.ischrome&&!e.ischrome22||e.isie)&&(i=[]),o=0;o<i.length;o++)if(s=i[o],t.style.cursor=s,t.style.cursor==s){i=s;break t}i="url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}return e.cursorgrabvalue=i,e.hasmousecapture="setCapture"in t,e.hasMutationObserver=!1!==p,g=e},v=function(a,r){function u(){var t=x.win;if("zIndex"in t)return t.zIndex();for(;0<t.length&&9!=t[0].nodeType;){var e=t.css("zIndex");if(!isNaN(e)&&0!=e)return parseInt(e);t=t.parent()}return!1}function d(t,e,i){return e=t.css(e),t=parseFloat(e),isNaN(t)?(t=C[e]||0,i=3==t?i?x.win.outerHeight()-x.win.innerHeight():x.win.outerWidth()-x.win.innerWidth():1,x.isie8&&t&&(t+=1),i?t:0):t}function g(t,e,i,o){x._bind(t,e,function(o){o=o?o:window.event;var s={original:o,target:o.target||o.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==o.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return o.preventDefault?o.preventDefault():o.returnValue=!1,!1},stopImmediatePropagation:function(){o.stopImmediatePropagation?o.stopImmediatePropagation():o.cancelBubble=!0}};return"mousewheel"==e?(s.deltaY=-.025*o.wheelDelta,o.wheelDeltaX&&(s.deltaX=-.025*o.wheelDeltaX)):s.deltaY=o.detail,i.call(t,s)},o)}function v(t,e,i){var o,s;if(0==t.deltaMode?(o=-Math.floor(t.deltaX*(x.opt.mousescrollstep/54)),s=-Math.floor(t.deltaY*(x.opt.mousescrollstep/54))):1==t.deltaMode&&(o=-Math.floor(t.deltaX*x.opt.mousescrollstep),s=-Math.floor(t.deltaY*x.opt.mousescrollstep)),e&&x.opt.oneaxismousemode&&0==o&&s&&(o=s,s=0),o&&(x.scrollmom&&x.scrollmom.stop(),x.lastdeltax+=o,x.debounced("mousewheelx",function(){var t=x.lastdeltax;x.lastdeltax=0,x.rail.drag||x.doScrollLeftBy(t)},120)),s){if(x.opt.nativeparentscrolling&&i&&!x.ispage&&!x.zoomactive)if(0>s){if(x.getScrollTop()>=x.page.maxh)return!0}else if(0>=x.getScrollTop())return!0;x.scrollmom&&x.scrollmom.stop(),x.lastdeltay+=s,x.debounced("mousewheely",function(){var t=x.lastdeltay;x.lastdeltay=0,x.rail.drag||x.doScrollBy(t)},120)}return t.stopImmediatePropagation(),t.preventDefault()}var x=this;if(this.version="3.5.0",this.name="nicescroll",this.me=r,this.opt={doc:t("body"),win:!1},t.extend(this.opt,f),this.opt.snapbackspeed=80,a)for(var w in x.opt)"undefined"!=typeof a[w]&&(x.opt[w]=a[w]);this.iddoc=(this.doc=x.opt.doc)&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/BODY|HTML/.test(x.opt.win?x.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==x.opt.win,this.win=x.opt.win||(this.ispage?t(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?t(window):this.win,this.body=t("body"),this.iframe=this.isfixed=this.viewport=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=x.opt.autohidemode,this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,this.observerremover=this.observer=this.scrollmom=this.scrollrunning=this.checkrtlmode=!1;do this.id="ascrail"+s++;while(document.getElementById(this.id));this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1,this.visibility=!0,this.hidden=this.locked=!1,this.cursoractive=!0,this.overflowx=x.opt.overflowx,this.overflowy=x.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltay=this.lastdeltax=0,this.detected=m();var y=t.extend({},this.detected);if(this.ishwscroll=(this.canhwscroll=y.hastransform&&x.opt.hwacceleration)&&x.haswrapper,this.istouchcapable=!1,y.cantouch&&y.ischrome&&!y.isios&&!y.isandroid&&(this.istouchcapable=!0,y.cantouch=!1),y.cantouch&&y.ismozilla&&!y.isios&&!y.isandroid&&(this.istouchcapable=!0,y.cantouch=!1),x.opt.enablemouselockapi||(y.hasmousecapture=!1,y.haspointerlock=!1),this.delayed=function(t,e,i,o){var s=x.delaylist[t],n=(new Date).getTime();return!o&&s&&s.tt?!1:(s&&s.tt&&clearTimeout(s.tt),void(s&&s.last+i>n&&!s.tt?x.delaylist[t]={last:n+i,tt:setTimeout(function(){x.delaylist[t].tt=0,e.call()},i)}:s&&s.tt||(x.delaylist[t]={last:n,tt:0},setTimeout(function(){e.call()},0))))},this.debounced=function(t,e,i){var o=x.delaylist[t];(new Date).getTime(),x.delaylist[t]=e,o||setTimeout(function(){var e=x.delaylist[t];x.delaylist[t]=!1,e.call()},i)},this.synched=function(t,e){return x.synclist[t]=e,function(){x.onsync||(h(function(){x.onsync=!1;for(t in x.synclist){var e=x.synclist[t];e&&e.call(x),x.synclist[t]=!1}}),x.onsync=!0)}(),t},this.unsynched=function(t){x.synclist[t]&&(x.synclist[t]=!1)},this.css=function(t,e){for(var i in e)x.saved.css.push([t,i,t.css(i)]),t.css(i,e[i])},this.scrollTop=function(t){return"undefined"==typeof t?x.getScrollTop():x.setScrollTop(t)},this.scrollLeft=function(t){return"undefined"==typeof t?x.getScrollLeft():x.setScrollLeft(t)},BezierClass=function(t,e,i,o,s,n,a){this.st=t,this.ed=e,this.spd=i,this.p1=o||0,this.p2=s||1,this.p3=n||0,this.p4=a||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st},BezierClass.prototype={B2:function(t){return 3*t*t*(1-t)},B3:function(t){return 3*t*(1-t)*(1-t)},B4:function(t){return(1-t)*(1-t)*(1-t)},getNow:function(){var t=1-((new Date).getTime()-this.ts)/this.spd,e=this.B2(t)+this.B3(t)+this.B4(t);return 0>t?this.ed:this.st+Math.round(this.df*e)},update:function(t,e){return this.st=this.getNow(),this.ed=t,this.spd=e,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},y.hastranslate3d&&y.isios&&this.doc.css("-webkit-backface-visibility","hidden");var S=function(){var t=x.doc.css(y.trstyle);return t&&"matrix"==t.substr(0,6)?t.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):!1};this.getScrollTop=function(t){if(!t){if(t=S())return 16==t.length?-t[13]:-t[5];if(x.timerscroll&&x.timerscroll.bz)return x.timerscroll.bz.getNow()}return x.doc.translate.y},this.getScrollLeft=function(t){if(!t){if(t=S())return 16==t.length?-t[12]:-t[4];if(x.timerscroll&&x.timerscroll.bh)return x.timerscroll.bh.getNow()}return x.doc.translate.x},this.notifyScrollEvent=document.createEvent?function(t){var e=document.createEvent("UIEvents");e.initUIEvent("scroll",!1,!0,window,1),t.dispatchEvent(e)}:document.fireEvent?function(t){var e=document.createEventObject();t.fireEvent("onscroll"),e.cancelBubble=!0}:function(t,e){},y.hastranslate3d&&x.opt.enabletranslate3d?(this.setScrollTop=function(t,e){x.doc.translate.y=t,x.doc.translate.ty=-1*t+"px",x.doc.css(y.trstyle,"translate3d("+x.doc.translate.tx+","+x.doc.translate.ty+",0px)"),e||x.notifyScrollEvent(x.win[0])},this.setScrollLeft=function(t,e){x.doc.translate.x=t,x.doc.translate.tx=-1*t+"px",x.doc.css(y.trstyle,"translate3d("+x.doc.translate.tx+","+x.doc.translate.ty+",0px)"),e||x.notifyScrollEvent(x.win[0])}):(this.setScrollTop=function(t,e){x.doc.translate.y=t,x.doc.translate.ty=-1*t+"px",x.doc.css(y.trstyle,"translate("+x.doc.translate.tx+","+x.doc.translate.ty+")"),e||x.notifyScrollEvent(x.win[0])},this.setScrollLeft=function(t,e){x.doc.translate.x=t,x.doc.translate.tx=-1*t+"px",x.doc.css(y.trstyle,"translate("+x.doc.translate.tx+","+x.doc.translate.ty+")"),e||x.notifyScrollEvent(x.win[0])})}else this.getScrollTop=function(){return x.docscroll.scrollTop()},this.setScrollTop=function(t){return x.docscroll.scrollTop(t)},this.getScrollLeft=function(){return x.docscroll.scrollLeft()},this.setScrollLeft=function(t){return x.docscroll.scrollLeft(t)};this.getTarget=function(t){return t?t.target?t.target:t.srcElement?t.srcElement:!1:!1},this.hasParent=function(t,e){if(!t)return!1;for(var i=t.target||t.srcElement||t||!1;i&&i.id!=e;)i=i.parentNode||!1;return!1!==i};var C={thin:1,medium:3,thick:5};this.getOffset=function(){if(x.isfixed)return{top:parseFloat(x.win.css("top")),left:parseFloat(x.win.css("left"))};if(!x.viewport)return x.win.offset();var t=x.win.offset(),e=x.viewport.offset();return{top:t.top-e.top+x.viewport.scrollTop(),left:t.left-e.left+x.viewport.scrollLeft()}},this.updateScrollBar=function(t){if(x.ishwscroll)x.rail.css({height:x.win.innerHeight()}),x.railh&&x.railh.css({width:x.win.innerWidth()});else{var e=x.getOffset(),i=e.top,o=e.left,i=i+d(x.win,"border-top-width",!0);x.win.outerWidth(),x.win.innerWidth();var o=o+(x.rail.align?x.win.outerWidth()-d(x.win,"border-right-width")-x.rail.width:d(x.win,"border-left-width")),s=x.opt.railoffset;s&&(s.top&&(i+=s.top),x.rail.align&&s.left&&(o+=s.left)),x.locked||x.rail.css({top:i,left:o,height:t?t.h:x.win.innerHeight()}),x.zoom&&x.zoom.css({top:i+1,left:1==x.rail.align?o-20:o+x.rail.width+4}),x.railh&&!x.locked&&(i=e.top,o=e.left,t=x.railh.align?i+d(x.win,"border-top-width",!0)+x.win.innerHeight()-x.railh.height:i+d(x.win,"border-top-width",!0),o+=d(x.win,"border-left-width"),x.railh.css({top:t,left:o,width:x.railh.width}))}},this.doRailClick=function(t,e,i){var o;x.locked||(x.cancelEvent(t),e?(e=i?x.doScrollLeft:x.doScrollTop,o=i?(t.pageX-x.railh.offset().left-x.cursorwidth/2)*x.scrollratio.x:(t.pageY-x.rail.offset().top-x.cursorheight/2)*x.scrollratio.y,e(o)):(e=i?x.doScrollLeftBy:x.doScrollBy,o=i?x.scroll.x:x.scroll.y,t=i?t.pageX-x.railh.offset().left:t.pageY-x.rail.offset().top,i=i?x.view.w:x.view.h,e(o>=t?i:-i)))},x.hasanimationframe=h,x.hascancelanimationframe=c,x.hasanimationframe?x.hascancelanimationframe||(c=function(){x.cancelAnimationFrame=!0}):(h=function(t){return setTimeout(t,15-Math.floor(+new Date/1e3)%16)},c=clearInterval),this.init=function(){if(x.saved.css=[],y.isie7mobile||y.isoperamini)return!0;if(y.hasmstouch&&x.css(x.ispage?t("html"):x.win,{"-ms-touch-action":"none"}),x.zindex="auto",x.zindex=x.ispage||"auto"!=x.opt.zindex?x.opt.zindex:u()||"auto",!x.ispage&&"auto"!=x.zindex&&x.zindex>n&&(n=x.zindex),x.isie&&0==x.zindex&&"auto"==x.opt.zindex&&(x.zindex="auto"),!x.ispage||!y.cantouch&&!y.isieold&&!y.isie9mobile){var s=x.docscroll;x.ispage&&(s=x.haswrapper?x.win:x.doc),y.isie9mobile||x.css(s,{"overflow-y":"hidden"}),x.ispage&&y.isie7&&("BODY"==x.doc[0].nodeName?x.css(t("html"),{"overflow-y":"hidden"}):"HTML"==x.doc[0].nodeName&&x.css(t("body"),{"overflow-y":"hidden"})),y.isios&&!x.ispage&&!x.haswrapper&&x.css(t("body"),{"-webkit-overflow-scrolling":"touch"});var a=t(document.createElement("div"));a.css({position:"relative",top:0,"float":"right",width:x.opt.cursorwidth,height:"0px","background-color":x.opt.cursorcolor,border:x.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":x.opt.cursorborderradius,"-moz-border-radius":x.opt.cursorborderradius,"border-radius":x.opt.cursorborderradius}),a.hborder=parseFloat(a.outerHeight()-a.innerHeight()),x.cursor=a;var r=t(document.createElement("div"));r.attr("id",x.id),r.addClass("nicescroll-rails");var h,c,d,f=["left","right"];for(d in f)c=f[d],(h=x.opt.railpadding[c])?r.css("padding-"+c,h+"px"):x.opt.railpadding[c]=0;if(r.append(a),r.width=Math.max(parseFloat(x.opt.cursorwidth),a.outerWidth())+x.opt.railpadding.left+x.opt.railpadding.right,r.css({width:r.width+"px",zIndex:x.zindex,background:x.opt.background,cursor:"default"}),r.visibility=!0,r.scrollable=!0,r.align="left"==x.opt.railalign?0:1,x.rail=r,a=x.rail.drag=!1,x.opt.boxzoom&&!x.ispage&&!y.isieold&&(a=document.createElement("div"),x.bind(a,"click",x.doZoom),x.zoom=t(a),x.zoom.css({cursor:"pointer","z-index":x.zindex,backgroundImage:"url("+l+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),x.opt.dblclickzoom&&x.bind(x.win,"dblclick",x.doZoom),y.cantouch&&x.opt.gesturezoom&&(x.ongesturezoom=function(t){return 1.5<t.scale&&x.doZoomIn(t),.8>t.scale&&x.doZoomOut(t),x.cancelEvent(t)},x.bind(x.win,"gestureend",x.ongesturezoom))),x.railh=!1,x.opt.horizrailenabled){x.css(s,{"overflow-x":"hidden"}),a=t(document.createElement("div")),a.css({position:"relative",top:0,height:x.opt.cursorwidth,width:"0px","background-color":x.opt.cursorcolor,border:x.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":x.opt.cursorborderradius,"-moz-border-radius":x.opt.cursorborderradius,"border-radius":x.opt.cursorborderradius}),a.wborder=parseFloat(a.outerWidth()-a.innerWidth()),x.cursorh=a;var g=t(document.createElement("div"));g.attr("id",x.id+"-hr"),g.addClass("nicescroll-rails"),g.height=Math.max(parseFloat(x.opt.cursorwidth),a.outerHeight()),g.css({height:g.height+"px",zIndex:x.zindex,background:x.opt.background}),g.append(a),g.visibility=!0,g.scrollable=!0,g.align="top"==x.opt.railvalign?0:1,x.railh=g,x.railh.drag=!1}if(x.ispage?(r.css({position:"fixed",top:"0px",height:"100%"}),r.align?r.css({right:"0px"}):r.css({left:"0px"}),x.body.append(r),x.railh&&(g.css({position:"fixed",left:"0px",width:"100%"}),g.align?g.css({bottom:"0px"}):g.css({top:"0px"}),x.body.append(g))):(x.ishwscroll?("static"==x.win.css("position")&&x.css(x.win,{position:"relative"}),s="HTML"==x.win[0].nodeName?x.body:x.win,x.zoom&&(x.zoom.css({position:"absolute",top:1,right:0,"margin-right":r.width+4}),s.append(x.zoom)),r.css({position:"absolute",top:0}),r.align?r.css({right:0}):r.css({left:0}),s.append(r),g&&(g.css({position:"absolute",left:0,bottom:0}),g.align?g.css({bottom:0}):g.css({top:0}),s.append(g))):(x.isfixed="fixed"==x.win.css("position"),s=x.isfixed?"fixed":"absolute",x.isfixed||(x.viewport=x.getViewport(x.win[0])),x.viewport&&(x.body=x.viewport,0==/fixed|relative|absolute/.test(x.viewport.css("position"))&&x.css(x.viewport,{position:"relative"})),r.css({position:s}),x.zoom&&x.zoom.css({position:s}),x.updateScrollBar(),x.body.append(r),x.zoom&&x.body.append(x.zoom),x.railh&&(g.css({position:s}),x.body.append(g))),y.isios&&x.css(x.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),y.isie&&x.opt.disableoutline&&x.win.attr("hideFocus","true"),y.iswebkit&&x.opt.disableoutline&&x.win.css({outline:"none"})),!1===x.opt.autohidemode?(x.autohidedom=!1,x.rail.css({opacity:x.opt.cursoropacitymax}),x.railh&&x.railh.css({opacity:x.opt.cursoropacitymax})):!0===x.opt.autohidemode||"leave"===x.opt.autohidemode?(x.autohidedom=t().add(x.rail),y.isie8&&(x.autohidedom=x.autohidedom.add(x.cursor)),x.railh&&(x.autohidedom=x.autohidedom.add(x.railh)),x.railh&&y.isie8&&(x.autohidedom=x.autohidedom.add(x.cursorh))):"scroll"==x.opt.autohidemode?(x.autohidedom=t().add(x.rail),x.railh&&(x.autohidedom=x.autohidedom.add(x.railh))):"cursor"==x.opt.autohidemode?(x.autohidedom=t().add(x.cursor),x.railh&&(x.autohidedom=x.autohidedom.add(x.cursorh))):"hidden"==x.opt.autohidemode&&(x.autohidedom=!1,x.hide(),x.locked=!1),y.isie9mobile)x.scrollmom=new b(x),x.onmangotouch=function(t){t=x.getScrollTop();var e=x.getScrollLeft();if(t==x.scrollmom.lastscrolly&&e==x.scrollmom.lastscrollx)return!0;var i=t-x.mangotouch.sy,o=e-x.mangotouch.sx;if(0!=Math.round(Math.sqrt(Math.pow(o,2)+Math.pow(i,2)))){var s=0>i?-1:1,n=0>o?-1:1,a=+new Date;x.mangotouch.lazy&&clearTimeout(x.mangotouch.lazy),80<a-x.mangotouch.tm||x.mangotouch.dry!=s||x.mangotouch.drx!=n?(x.scrollmom.stop(),x.scrollmom.reset(e,t),x.mangotouch.sy=t,x.mangotouch.ly=t,x.mangotouch.sx=e,x.mangotouch.lx=e,x.mangotouch.dry=s,x.mangotouch.drx=n,x.mangotouch.tm=a):(x.scrollmom.stop(),x.scrollmom.update(x.mangotouch.sx-o,x.mangotouch.sy-i),x.mangotouch.tm=a,i=Math.max(Math.abs(x.mangotouch.ly-t),Math.abs(x.mangotouch.lx-e)),x.mangotouch.ly=t,x.mangotouch.lx=e,i>2&&(x.mangotouch.lazy=setTimeout(function(){x.mangotouch.lazy=!1,x.mangotouch.dry=0,x.mangotouch.drx=0,x.mangotouch.tm=0,x.scrollmom.doMomentum(30)},100)))}},r=x.getScrollTop(),g=x.getScrollLeft(),x.mangotouch={sy:r,ly:r,dry:0,sx:g,lx:g,drx:0,lazy:!1,tm:0},x.bind(x.docscroll,"scroll",x.onmangotouch);else{if(y.cantouch||x.istouchcapable||x.opt.touchbehavior||y.hasmstouch){x.scrollmom=new b(x),x.ontouchstart=function(e){if(e.pointerType&&2!=e.pointerType)return!1;if(!x.locked){if(y.hasmstouch)for(var i=e.target?e.target:!1;i;){var o=t(i).getNiceScroll();if(0<o.length&&o[0].me==x.me)break;if(0<o.length)return!1;if("DIV"==i.nodeName&&i.id==x.id)break;i=i.parentNode?i.parentNode:!1}if(x.cancelScroll(),(i=x.getTarget(e))&&/INPUT/i.test(i.nodeName)&&/range/i.test(i.type))return x.stopPropagation(e);if(!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),x.forcescreen&&(o=e,e={original:e.original?e.original:e},e.clientX=o.screenX,e.clientY=o.screenY),x.rail.drag={x:e.clientX,y:e.clientY,sx:x.scroll.x,sy:x.scroll.y,st:x.getScrollTop(),sl:x.getScrollLeft(),pt:2,dl:!1},x.ispage||!x.opt.directionlockdeadzone)x.rail.drag.dl="f";else{var o=t(window).width(),s=t(window).height(),n=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),a=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),s=Math.max(0,a-s),o=Math.max(0,n-o);x.rail.drag.ck=!x.rail.scrollable&&x.railh.scrollable?s>0?"v":!1:x.rail.scrollable&&!x.railh.scrollable&&o>0?"h":!1,x.rail.drag.ck||(x.rail.drag.dl="f")}if(x.opt.touchbehavior&&x.isiframe&&y.isie&&(o=x.win.position(),x.rail.drag.x+=o.left,x.rail.drag.y+=o.top),x.hasmoving=!1,x.lastmouseup=!1,x.scrollmom.reset(e.clientX,e.clientY),!y.cantouch&&!this.istouchcapable&&!y.hasmstouch){if(!i||!/INPUT|SELECT|TEXTAREA/i.test(i.nodeName))return!x.ispage&&y.hasmousecapture&&i.setCapture(),x.opt.touchbehavior?x.cancelEvent(e):x.stopPropagation(e);/SUBMIT|CANCEL|BUTTON/i.test(t(i).attr("type"))&&(pc={tg:i,click:!1},x.preventclick=pc)}}},x.ontouchend=function(t){return t.pointerType&&2!=t.pointerType?!1:x.rail.drag&&2==x.rail.drag.pt&&(x.scrollmom.doMomentum(),x.rail.drag=!1,x.hasmoving&&(x.hasmoving=!1,x.lastmouseup=!0,x.hideCursor(),y.hasmousecapture&&document.releaseCapture(),!y.cantouch))?x.cancelEvent(t):void 0};var m=x.opt.touchbehavior&&x.isiframe&&!y.hasmousecapture;x.ontouchmove=function(e,i){if(e.pointerType&&2!=e.pointerType)return!1;if(x.rail.drag&&2==x.rail.drag.pt){if(y.cantouch&&"undefined"==typeof e.original)return!0;if(x.hasmoving=!0,x.preventclick&&!x.preventclick.click&&(x.preventclick.click=x.preventclick.tg.onclick||!1,x.preventclick.tg.onclick=x.onpreventclick),e=t.extend({original:e},e),"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),x.forcescreen){var o=e;e={original:e.original?e.original:e},e.clientX=o.screenX,e.clientY=o.screenY}if(o=ofy=0,m&&!i){var s=x.win.position(),o=-s.left;ofy=-s.top}var n=e.clientY+ofy,s=n-x.rail.drag.y,a=e.clientX+o,l=a-x.rail.drag.x,r=x.rail.drag.st-s;if(x.ishwscroll&&x.opt.bouncescroll?0>r?r=Math.round(r/2):r>x.page.maxh&&(r=x.page.maxh+Math.round((r-x.page.maxh)/2)):(0>r&&(n=r=0),r>x.page.maxh&&(r=x.page.maxh,n=0)),x.railh&&x.railh.scrollable){var h=x.rail.drag.sl-l;x.ishwscroll&&x.opt.bouncescroll?0>h?h=Math.round(h/2):h>x.page.maxw&&(h=x.page.maxw+Math.round((h-x.page.maxw)/2)):(0>h&&(a=h=0),h>x.page.maxw&&(h=x.page.maxw,a=0))}if(o=!1,x.rail.drag.dl)o=!0,"v"==x.rail.drag.dl?h=x.rail.drag.sl:"h"==x.rail.drag.dl&&(r=x.rail.drag.st);else{var s=Math.abs(s),l=Math.abs(l),c=x.opt.directionlockdeadzone;if("v"==x.rail.drag.ck){if(s>c&&.3*s>=l)return x.rail.drag=!1,!0;l>c&&(x.rail.drag.dl="f",t("body").scrollTop(t("body").scrollTop()))}else if("h"==x.rail.drag.ck){if(l>c&&.3*l>=s)return x.rail.drag=!1,!0;s>c&&(x.rail.drag.dl="f",t("body").scrollLeft(t("body").scrollLeft()))}}if(x.synched("touchmove",function(){x.rail.drag&&2==x.rail.drag.pt&&(x.prepareTransition&&x.prepareTransition(0),x.rail.scrollable&&x.setScrollTop(r),x.scrollmom.update(a,n),x.railh&&x.railh.scrollable?(x.setScrollLeft(h),x.showCursor(r,h)):x.showCursor(r),y.isie10&&document.selection.clear())}),y.ischrome&&x.istouchcapable&&(o=!1),o)return x.cancelEvent(e)}}}if(x.onmousedown=function(t,e){if(!x.rail.drag||1==x.rail.drag.pt){if(x.locked)return x.cancelEvent(t);x.cancelScroll(),x.rail.drag={x:t.clientX,y:t.clientY,sx:x.scroll.x,sy:x.scroll.y,pt:1,hr:!!e};var i=x.getTarget(t);return!x.ispage&&y.hasmousecapture&&i.setCapture(),x.isiframe&&!y.hasmousecapture&&(x.saved.csspointerevents=x.doc.css("pointer-events"),x.css(x.doc,{"pointer-events":"none"})),x.cancelEvent(t)}},x.onmouseup=function(t){return x.rail.drag&&(y.hasmousecapture&&document.releaseCapture(),x.isiframe&&!y.hasmousecapture&&x.doc.css("pointer-events",x.saved.csspointerevents),1==x.rail.drag.pt)?(x.rail.drag=!1,x.cancelEvent(t)):void 0},x.onmousemove=function(t){if(x.rail.drag&&1==x.rail.drag.pt){if(y.ischrome&&0==t.which)return x.onmouseup(t);if(x.cursorfreezed=!0,x.rail.drag.hr){x.scroll.x=x.rail.drag.sx+(t.clientX-x.rail.drag.x),0>x.scroll.x&&(x.scroll.x=0);var e=x.scrollvaluemaxw;x.scroll.x>e&&(x.scroll.x=e)}else x.scroll.y=x.rail.drag.sy+(t.clientY-x.rail.drag.y),0>x.scroll.y&&(x.scroll.y=0),e=x.scrollvaluemax,x.scroll.y>e&&(x.scroll.y=e);return x.synched("mousemove",function(){x.rail.drag&&1==x.rail.drag.pt&&(x.showCursor(),x.rail.drag.hr?x.doScrollLeft(Math.round(x.scroll.x*x.scrollratio.x),x.opt.cursordragspeed):x.doScrollTop(Math.round(x.scroll.y*x.scrollratio.y),x.opt.cursordragspeed))}),x.cancelEvent(t)}},y.cantouch||x.opt.touchbehavior)x.onpreventclick=function(t){return x.preventclick?(x.preventclick.tg.onclick=x.preventclick.click,x.preventclick=!1,x.cancelEvent(t)):void 0},x.bind(x.win,"mousedown",x.ontouchstart),x.onclick=y.isios?!1:function(t){return x.lastmouseup?(x.lastmouseup=!1,x.cancelEvent(t)):!0},x.opt.grabcursorenabled&&y.cursorgrabvalue&&(x.css(x.ispage?x.doc:x.win,{cursor:y.cursorgrabvalue}),x.css(x.rail,{cursor:y.cursorgrabvalue}));else{var v=function(t){if(x.selectiondrag){if(t){var e=x.win.outerHeight();t=t.pageY-x.selectiondrag.top,t>0&&e>t&&(t=0),t>=e&&(t-=e),x.selectiondrag.df=t}0!=x.selectiondrag.df&&(x.doScrollBy(2*-Math.floor(x.selectiondrag.df/6)),x.debounced("doselectionscroll",function(){v()},50))}};x.hasTextSelected="getSelection"in document?function(){return 0<document.getSelection().rangeCount}:"selection"in document?function(){return"None"!=document.selection.type}:function(){return!1},x.onselectionstart=function(t){x.ispage||(x.selectiondrag=x.win.offset())},x.onselectionend=function(t){x.selectiondrag=!1},x.onselectiondrag=function(t){x.selectiondrag&&x.hasTextSelected()&&x.debounced("selectionscroll",function(){v(t)},250)}}y.hasmstouch&&(x.css(x.rail,{"-ms-touch-action":"none"}),x.css(x.cursor,{"-ms-touch-action":"none"}),x.bind(x.win,"MSPointerDown",x.ontouchstart),x.bind(document,"MSPointerUp",x.ontouchend),x.bind(document,"MSPointerMove",x.ontouchmove),x.bind(x.cursor,"MSGestureHold",function(t){t.preventDefault()}),x.bind(x.cursor,"contextmenu",function(t){t.preventDefault()})),this.istouchcapable&&(x.bind(x.win,"touchstart",x.ontouchstart),x.bind(document,"touchend",x.ontouchend),x.bind(document,"touchcancel",x.ontouchend),x.bind(document,"touchmove",x.ontouchmove)),x.bind(x.cursor,"mousedown",x.onmousedown),x.bind(x.cursor,"mouseup",x.onmouseup),x.railh&&(x.bind(x.cursorh,"mousedown",function(t){x.onmousedown(t,!0)}),x.bind(x.cursorh,"mouseup",function(t){return x.rail.drag&&2==x.rail.drag.pt?void 0:(x.rail.drag=!1,x.hasmoving=!1,x.hideCursor(),y.hasmousecapture&&document.releaseCapture(),x.cancelEvent(t))})),(x.opt.cursordragontouch||!y.cantouch&&!x.opt.touchbehavior)&&(x.rail.css({cursor:"default"}),x.railh&&x.railh.css({cursor:"default"}),x.jqbind(x.rail,"mouseenter",function(){x.canshowonmouseevent&&x.showCursor(),x.rail.active=!0}),x.jqbind(x.rail,"mouseleave",function(){x.rail.active=!1,x.rail.drag||x.hideCursor()}),x.opt.sensitiverail&&(x.bind(x.rail,"click",function(t){x.doRailClick(t,!1,!1)}),x.bind(x.rail,"dblclick",function(t){x.doRailClick(t,!0,!1)}),x.bind(x.cursor,"click",function(t){x.cancelEvent(t)}),x.bind(x.cursor,"dblclick",function(t){x.cancelEvent(t)})),x.railh&&(x.jqbind(x.railh,"mouseenter",function(){x.canshowonmouseevent&&x.showCursor(),x.rail.active=!0}),x.jqbind(x.railh,"mouseleave",function(){x.rail.active=!1,x.rail.drag||x.hideCursor()}),x.opt.sensitiverail&&(x.bind(x.railh,"click",function(t){x.doRailClick(t,!1,!0)}),x.bind(x.railh,"dblclick",function(t){x.doRailClick(t,!0,!0)}),x.bind(x.cursorh,"click",function(t){x.cancelEvent(t)}),x.bind(x.cursorh,"dblclick",function(t){x.cancelEvent(t)})))),y.cantouch||x.opt.touchbehavior?(x.bind(y.hasmousecapture?x.win:document,"mouseup",x.ontouchend),x.bind(document,"mousemove",x.ontouchmove),x.onclick&&x.bind(document,"click",x.onclick),x.opt.cursordragontouch&&(x.bind(x.cursor,"mousedown",x.onmousedown),x.bind(x.cursor,"mousemove",x.onmousemove),x.cursorh&&x.bind(x.cursorh,"mousedown",function(t){x.onmousedown(t,!0)}),x.cursorh&&x.bind(x.cursorh,"mousemove",x.onmousemove))):(x.bind(y.hasmousecapture?x.win:document,"mouseup",x.onmouseup),x.bind(document,"mousemove",x.onmousemove),x.onclick&&x.bind(document,"click",x.onclick),!x.ispage&&x.opt.enablescrollonselection&&(x.bind(x.win[0],"mousedown",x.onselectionstart),x.bind(document,"mouseup",x.onselectionend),x.bind(x.cursor,"mouseup",x.onselectionend),x.cursorh&&x.bind(x.cursorh,"mouseup",x.onselectionend),x.bind(document,"mousemove",x.onselectiondrag)),x.zoom&&(x.jqbind(x.zoom,"mouseenter",function(){x.canshowonmouseevent&&x.showCursor(),x.rail.active=!0}),x.jqbind(x.zoom,"mouseleave",function(){x.rail.active=!1,x.rail.drag||x.hideCursor()}))),x.opt.enablemousewheel&&(x.isiframe||x.bind(y.isie&&x.ispage?document:x.win,"mousewheel",x.onmousewheel),x.bind(x.rail,"mousewheel",x.onmousewheel),x.railh&&x.bind(x.railh,"mousewheel",x.onmousewheelhr)),!x.ispage&&!y.cantouch&&!/HTML|BODY/.test(x.win[0].nodeName)&&(x.win.attr("tabindex")||x.win.attr({tabindex:o++}),x.jqbind(x.win,"focus",function(t){e=x.getTarget(t).id||!0,x.hasfocus=!0,x.canshowonmouseevent&&x.noticeCursor()}),x.jqbind(x.win,"blur",function(t){e=!1,x.hasfocus=!1}),x.jqbind(x.win,"mouseenter",function(t){i=x.getTarget(t).id||!0,x.hasmousefocus=!0,x.canshowonmouseevent&&x.noticeCursor()}),x.jqbind(x.win,"mouseleave",function(){i=!1,x.hasmousefocus=!1,x.rail.drag||x.hideCursor()}))}if(x.onkeypress=function(t){if(x.locked&&0==x.page.maxh)return!0;t=t?t:window.e;var o=x.getTarget(t);if(o&&/INPUT|TEXTAREA|SELECT|OPTION/.test(o.nodeName)&&(!o.getAttribute("type")&&!o.type||!/submit|button|cancel/i.tp))return!0;if(x.hasfocus||x.hasmousefocus&&!e||x.ispage&&!e&&!i){if(o=t.keyCode,x.locked&&27!=o)return x.cancelEvent(t);var s=t.ctrlKey||!1,n=t.shiftKey||!1,a=!1;switch(o){case 38:case 63233:x.doScrollBy(72),a=!0;break;case 40:case 63235:x.doScrollBy(-72),a=!0;break;case 37:case 63232:x.railh&&(s?x.doScrollLeft(0):x.doScrollLeftBy(72),a=!0);break;case 39:case 63234:x.railh&&(s?x.doScrollLeft(x.page.maxw):x.doScrollLeftBy(-72),a=!0);break;case 33:case 63276:x.doScrollBy(x.view.h),a=!0;break;case 34:case 63277:x.doScrollBy(-x.view.h),a=!0;break;case 36:case 63273:x.railh&&s?x.doScrollPos(0,0):x.doScrollTo(0),a=!0;break;case 35:case 63275:x.railh&&s?x.doScrollPos(x.page.maxw,x.page.maxh):x.doScrollTo(x.page.maxh),a=!0;break;case 32:x.opt.spacebarenabled&&(n?x.doScrollBy(x.view.h):x.doScrollBy(-x.view.h),a=!0);break;case 27:x.zoomactive&&(x.doZoom(),a=!0)}if(a)return x.cancelEvent(t)}},x.opt.enablekeyboard&&x.bind(document,y.isopera&&!y.isopera12?"keypress":"keydown",x.onkeypress),x.bind(window,"resize",x.lazyResize),x.bind(window,"orientationchange",x.lazyResize),x.bind(window,"load",x.lazyResize),y.ischrome&&!x.ispage&&!x.haswrapper){var w=x.win.attr("style"),r=parseFloat(x.win.css("width"))+1;x.win.css("width",r),x.synched("chromefix",function(){x.win.attr("style",w)})}x.onAttributeChange=function(t){x.lazyResize(250)},!x.ispage&&!x.haswrapper&&(!1!==p?(x.observer=new p(function(t){t.forEach(x.onAttributeChange)}),x.observer.observe(x.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),x.observerremover=new p(function(t){t.forEach(function(t){if(0<t.removedNodes.length)for(var e in t.removedNodes)if(t.removedNodes[e]==x.win[0])return x.remove()})}),x.observerremover.observe(x.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(x.bind(x.win,y.isie&&!y.isie9?"propertychange":"DOMAttrModified",x.onAttributeChange),y.isie9&&x.win[0].attachEvent("onpropertychange",x.onAttributeChange),
x.bind(x.win,"DOMNodeRemoved",function(t){t.target==x.win[0]&&x.remove()}))),!x.ispage&&x.opt.boxzoom&&x.bind(window,"resize",x.resizeZoom),x.istextarea&&x.bind(x.win,"mouseup",x.lazyResize),x.checkrtlmode=!0,x.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var S=function(e){x.iframexd=!1;try{var i="contentDocument"in this?this.contentDocument:this.contentWindow.document}catch(o){x.iframexd=!0,i=!1}return x.iframexd?("console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0):(x.forcescreen=!0,x.isiframe&&(x.iframe={doc:t(i),html:x.doc.contents().find("html")[0],body:x.doc.contents().find("body")[0]},x.getContentSize=function(){return{w:Math.max(x.iframe.html.scrollWidth,x.iframe.body.scrollWidth),h:Math.max(x.iframe.html.scrollHeight,x.iframe.body.scrollHeight)}},x.docscroll=t(x.iframe.body)),!y.isios&&x.opt.iframeautoresize&&!x.isiframe&&(x.win.scrollTop(0),x.doc.height(""),e=Math.max(i.getElementsByTagName("html")[0].scrollHeight,i.body.scrollHeight),x.doc.height(e)),x.lazyResize(30),y.isie7&&x.css(t(x.iframe.html),{"overflow-y":"hidden"}),x.css(t(x.iframe.body),{"overflow-y":"hidden"}),y.isios&&x.haswrapper&&x.css(t(i.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?x.bind(this.contentWindow,"scroll",x.onscroll):x.bind(i,"scroll",x.onscroll),x.opt.enablemousewheel&&x.bind(i,"mousewheel",x.onmousewheel),x.opt.enablekeyboard&&x.bind(i,y.isopera?"keypress":"keydown",x.onkeypress),(y.cantouch||x.opt.touchbehavior)&&(x.bind(i,"mousedown",x.ontouchstart),x.bind(i,"mousemove",function(t){x.ontouchmove(t,!0)}),x.opt.grabcursorenabled&&y.cursorgrabvalue&&x.css(t(i.body),{cursor:y.cursorgrabvalue})),x.bind(i,"mouseup",x.ontouchend),void(x.zoom&&(x.opt.dblclickzoom&&x.bind(i,"dblclick",x.doZoom),x.ongesturezoom&&x.bind(i,"gestureend",x.ongesturezoom))))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){S.call(x.doc[0],!1)},500),x.bind(this.doc,"load",S)}},this.showCursor=function(t,e){x.cursortimeout&&(clearTimeout(x.cursortimeout),x.cursortimeout=0),x.rail&&(x.autohidedom&&(x.autohidedom.stop().css({opacity:x.opt.cursoropacitymax}),x.cursoractive=!0),x.rail.drag&&1==x.rail.drag.pt||("undefined"!=typeof t&&!1!==t&&(x.scroll.y=Math.round(1*t/x.scrollratio.y)),"undefined"!=typeof e&&(x.scroll.x=Math.round(1*e/x.scrollratio.x))),x.cursor.css({height:x.cursorheight,top:x.scroll.y}),x.cursorh&&(!x.rail.align&&x.rail.visibility?x.cursorh.css({width:x.cursorwidth,left:x.scroll.x+x.rail.width}):x.cursorh.css({width:x.cursorwidth,left:x.scroll.x}),x.cursoractive=!0),x.zoom&&x.zoom.stop().css({opacity:x.opt.cursoropacitymax}))},this.hideCursor=function(t){!x.cursortimeout&&x.rail&&x.autohidedom&&!(x.hasmousefocus&&"leave"==x.opt.autohidemode)&&(x.cursortimeout=setTimeout(function(){x.rail.active&&x.showonmouseevent||(x.autohidedom.stop().animate({opacity:x.opt.cursoropacitymin}),x.zoom&&x.zoom.stop().animate({opacity:x.opt.cursoropacitymin}),x.cursoractive=!1),x.cursortimeout=0},t||x.opt.hidecursordelay))},this.noticeCursor=function(t,e,i){x.showCursor(e,i),x.rail.active||x.hideCursor(t)},this.getContentSize=x.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:x.haswrapper?function(){return{w:x.doc.outerWidth()+parseInt(x.win.css("paddingLeft"))+parseInt(x.win.css("paddingRight")),h:x.doc.outerHeight()+parseInt(x.win.css("paddingTop"))+parseInt(x.win.css("paddingBottom"))}}:function(){return{w:x.docscroll[0].scrollWidth,h:x.docscroll[0].scrollHeight}},this.onResize=function(t,e){if(!x.win)return!1;if(!x.haswrapper&&!x.ispage){if("none"==x.win.css("display"))return x.visibility&&x.hideRail().hideRailHr(),!1;!x.hidden&&!x.visibility&&x.showRail().showRailHr()}var i=x.page.maxh,o=x.page.maxw,s=x.view.w;if(x.view={w:x.ispage?x.win.width():parseInt(x.win[0].clientWidth),h:x.ispage?x.win.height():parseInt(x.win[0].clientHeight)},x.page=e?e:x.getContentSize(),x.page.maxh=Math.max(0,x.page.h-x.view.h),x.page.maxw=Math.max(0,x.page.w-x.view.w),x.page.maxh==i&&x.page.maxw==o&&x.view.w==s){if(x.ispage)return x;if(i=x.win.offset(),x.lastposition&&(o=x.lastposition,o.top==i.top&&o.left==i.left))return x;x.lastposition=i}return 0==x.page.maxh?(x.hideRail(),x.scrollvaluemax=0,x.scroll.y=0,x.scrollratio.y=0,x.cursorheight=0,x.setScrollTop(0),x.rail.scrollable=!1):x.rail.scrollable=!0,0==x.page.maxw?(x.hideRailHr(),x.scrollvaluemaxw=0,x.scroll.x=0,x.scrollratio.x=0,x.cursorwidth=0,x.setScrollLeft(0),x.railh.scrollable=!1):x.railh.scrollable=!0,x.locked=0==x.page.maxh&&0==x.page.maxw,x.locked?(x.ispage||x.updateScrollBar(x.view),!1):(x.hidden||x.visibility?!x.hidden&&!x.railh.visibility&&x.showRailHr():x.showRail().showRailHr(),x.istextarea&&x.win.css("resize")&&"none"!=x.win.css("resize")&&(x.view.h-=20),x.cursorheight=Math.min(x.view.h,Math.round(x.view.h*(x.view.h/x.page.h))),x.cursorheight=x.opt.cursorfixedheight?x.opt.cursorfixedheight:Math.max(x.opt.cursorminheight,x.cursorheight),x.cursorwidth=Math.min(x.view.w,Math.round(x.view.w*(x.view.w/x.page.w))),x.cursorwidth=x.opt.cursorfixedheight?x.opt.cursorfixedheight:Math.max(x.opt.cursorminheight,x.cursorwidth),x.scrollvaluemax=x.view.h-x.cursorheight-x.cursor.hborder,x.railh&&(x.railh.width=0<x.page.maxh?x.view.w-x.rail.width:x.view.w,x.scrollvaluemaxw=x.railh.width-x.cursorwidth-x.cursorh.wborder),x.checkrtlmode&&x.railh&&(x.checkrtlmode=!1,x.opt.rtlmode&&0==x.scroll.x&&x.setScrollLeft(x.page.maxw)),x.ispage||x.updateScrollBar(x.view),x.scrollratio={x:x.page.maxw/x.scrollvaluemaxw,y:x.page.maxh/x.scrollvaluemax},x.getScrollTop()>x.page.maxh?x.doScrollTop(x.page.maxh):(x.scroll.y=Math.round(x.getScrollTop()*(1/x.scrollratio.y)),x.scroll.x=Math.round(x.getScrollLeft()*(1/x.scrollratio.x)),x.cursoractive&&x.noticeCursor()),x.scroll.y&&0==x.getScrollTop()&&x.doScrollTo(Math.floor(x.scroll.y*x.scrollratio.y)),x)},this.resize=x.onResize,this.lazyResize=function(t){return t=isNaN(t)?30:t,x.delayed("resize",x.resize,t),x},this._bind=function(t,e,i,o){x.events.push({e:t,n:e,f:i,b:o,q:!1}),t.addEventListener?t.addEventListener(e,i,o||!1):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i},this.jqbind=function(e,i,o){x.events.push({e:e,n:i,f:o,q:!0}),t(e).bind(i,o)},this.bind=function(t,e,i,o){var s="jquery"in t?t[0]:t;"mousewheel"==e?"onwheel"in x.win?x._bind(s,"wheel",i,o||!1):(t="undefined"!=typeof document.onmousewheel?"mousewheel":"DOMMouseScroll",g(s,t,i,o||!1),"DOMMouseScroll"==t&&g(s,"MozMousePixelScroll",i,o||!1)):s.addEventListener?(y.cantouch&&/mouseup|mousedown|mousemove/.test(e)&&x._bind(s,"mousedown"==e?"touchstart":"mouseup"==e?"touchend":"touchmove",function(t){if(t.touches){if(2>t.touches.length){var e=t.touches.length?t.touches[0]:t;e.original=t,i.call(this,e)}}else t.changedTouches&&(e=t.changedTouches[0],e.original=t,i.call(this,e))},o||!1),x._bind(s,e,i,o||!1),y.cantouch&&"mouseup"==e&&x._bind(s,"touchcancel",i,o||!1)):x._bind(s,e,function(t){return(t=t||window.event||!1)&&t.srcElement&&(t.target=t.srcElement),"pageY"in t||(t.pageX=t.clientX+document.documentElement.scrollLeft,t.pageY=t.clientY+document.documentElement.scrollTop),!1===i.call(s,t)||!1===o?x.cancelEvent(t):!0})},this._unbind=function(t,e,i,o){t.removeEventListener?t.removeEventListener(e,i,o):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=!1},this.unbindAll=function(){for(var t=0;t<x.events.length;t++){var e=x.events[t];e.q?e.e.unbind(e.n,e.f):x._unbind(e.e,e.n,e.f,e.b)}},this.cancelEvent=function(t){return(t=t.original?t.original:t?t:window.event||!1)?(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.preventManipulation&&t.preventManipulation(),t.cancelBubble=!0,t.cancel=!0,t.returnValue=!1):!1},this.stopPropagation=function(t){return(t=t.original?t.original:t?t:window.event||!1)?t.stopPropagation?t.stopPropagation():(t.cancelBubble&&(t.cancelBubble=!0),!1):!1},this.showRail=function(){return 0==x.page.maxh||!x.ispage&&"none"==x.win.css("display")||(x.visibility=!0,x.rail.visibility=!0,x.rail.css("display","block")),x},this.showRailHr=function(){return x.railh?(0==x.page.maxw||!x.ispage&&"none"==x.win.css("display")||(x.railh.visibility=!0,x.railh.css("display","block")),x):x},this.hideRail=function(){return x.visibility=!1,x.rail.visibility=!1,x.rail.css("display","none"),x},this.hideRailHr=function(){return x.railh?(x.railh.visibility=!1,x.railh.css("display","none"),x):x},this.show=function(){return x.hidden=!1,x.locked=!1,x.showRail().showRailHr()},this.hide=function(){return x.hidden=!0,x.locked=!0,x.hideRail().hideRailHr()},this.toggle=function(){return x.hidden?x.show():x.hide()},this.remove=function(){x.stop(),x.cursortimeout&&clearTimeout(x.cursortimeout),x.doZoomOut(),x.unbindAll(),y.isie9&&x.win[0].detachEvent("onpropertychange",x.onAttributeChange),!1!==x.observer&&x.observer.disconnect(),!1!==x.observerremover&&x.observerremover.disconnect(),x.events=null,x.cursor&&x.cursor.remove(),x.cursorh&&x.cursorh.remove(),x.rail&&x.rail.remove(),x.railh&&x.railh.remove(),x.zoom&&x.zoom.remove();for(var e=0;e<x.saved.css.length;e++){var i=x.saved.css[e];i[0].css(i[1],"undefined"==typeof i[2]?"":i[2])}x.saved=!1,x.me.data("__nicescroll","");var o=t.nicescroll;o.each(function(t){if(this&&this.id===x.id){delete o[t];for(var e=++t;e<o.length;e++,t++)o[t]=o[e];o.length--,o.length&&delete o[o.length]}});for(var s in x)x[s]=null,delete x[s];x=null},this.scrollstart=function(t){return this.onscrollstart=t,x},this.scrollend=function(t){return this.onscrollend=t,x},this.scrollcancel=function(t){return this.onscrollcancel=t,x},this.zoomin=function(t){return this.onzoomin=t,x},this.zoomout=function(t){return this.onzoomout=t,x},this.isScrollable=function(e){if(e=e.target?e.target:e,"OPTION"==e.nodeName)return!0;for(;e&&1==e.nodeType&&!/BODY|HTML/.test(e.nodeName);){var i=t(e),i=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(i))return e.clientHeight!=e.scrollHeight;e=e.parentNode?e.parentNode:!1}return!1},this.getViewport=function(e){for(e=e&&e.parentNode?e.parentNode:!1;e&&1==e.nodeType&&!/BODY|HTML/.test(e.nodeName);){var i=t(e);if(/fixed|absolute/.test(i.css("position")))return i;var o=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(o)&&e.clientHeight!=e.scrollHeight||0<i.getNiceScroll().length)return i;e=e.parentNode?e.parentNode:!1}return!1},this.onmousewheel=function(t){if(x.locked)return x.debounced("checkunlock",x.resize,250),!0;if(x.rail.drag)return x.cancelEvent(t);if("auto"==x.opt.oneaxismousemode&&0!=t.deltaX&&(x.opt.oneaxismousemode=!1),x.opt.oneaxismousemode&&0==t.deltaX&&!x.rail.scrollable)return x.railh&&x.railh.scrollable?x.onmousewheelhr(t):!0;var e=+new Date,i=!1;return x.opt.preservenativescrolling&&x.checkarea+600<e&&(x.nativescrollingarea=x.isScrollable(t),i=!0),x.checkarea=e,x.nativescrollingarea?!0:((t=v(t,!1,i))&&(x.checkarea=0),t)},this.onmousewheelhr=function(t){if(x.locked||!x.railh.scrollable)return!0;if(x.rail.drag)return x.cancelEvent(t);var e=+new Date,i=!1;return x.opt.preservenativescrolling&&x.checkarea+600<e&&(x.nativescrollingarea=x.isScrollable(t),i=!0),x.checkarea=e,x.nativescrollingarea?!0:x.locked?x.cancelEvent(t):v(t,!0,i)},this.stop=function(){return x.cancelScroll(),x.scrollmon&&x.scrollmon.stop(),x.cursorfreezed=!1,x.scroll.y=Math.round(x.getScrollTop()*(1/x.scrollratio.y)),x.noticeCursor(),x},this.getTransitionSpeed=function(t){var e=Math.round(10*x.opt.scrollspeed);return t=Math.min(e,Math.round(t/20*x.opt.scrollspeed)),t>20?t:0},x.opt.smoothscroll?x.ishwscroll&&y.hastransition&&x.opt.usetransition?(this.prepareTransition=function(t,e){var i=e?t>20?t:0:x.getTransitionSpeed(t),o=i?y.prefixstyle+"transform "+i+"ms ease-out":"";return x.lasttransitionstyle&&x.lasttransitionstyle==o||(x.lasttransitionstyle=o,x.doc.css(y.transitionstyle,o)),i},this.doScrollLeft=function(t,e){var i=x.scrollrunning?x.newscrolly:x.getScrollTop();x.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=x.scrollrunning?x.newscrollx:x.getScrollLeft();x.doScrollPos(i,t,e)},this.doScrollPos=function(t,e,i){var o=x.getScrollTop(),s=x.getScrollLeft();return(0>(x.newscrolly-o)*(e-o)||0>(x.newscrollx-s)*(t-s))&&x.cancelScroll(),0==x.opt.bouncescroll&&(0>e?e=0:e>x.page.maxh&&(e=x.page.maxh),0>t?t=0:t>x.page.maxw&&(t=x.page.maxw)),x.scrollrunning&&t==x.newscrollx&&e==x.newscrolly?!1:(x.newscrolly=e,x.newscrollx=t,x.newscrollspeed=i||!1,x.timer?!1:void(x.timer=setTimeout(function(){var i,o,s=x.getScrollTop(),n=x.getScrollLeft();i=t-n,o=e-s,i=Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(o,2))),i=x.newscrollspeed&&1<x.newscrollspeed?x.newscrollspeed:x.getTransitionSpeed(i),x.newscrollspeed&&1>=x.newscrollspeed&&(i*=x.newscrollspeed),x.prepareTransition(i,!0),x.timerscroll&&x.timerscroll.tm&&clearInterval(x.timerscroll.tm),i>0&&(!x.scrollrunning&&x.onscrollstart&&x.onscrollstart.call(x,{type:"scrollstart",current:{x:n,y:s},request:{x:t,y:e},end:{x:x.newscrollx,y:x.newscrolly},speed:i}),y.transitionend?x.scrollendtrapped||(x.scrollendtrapped=!0,x.bind(x.doc,y.transitionend,x.onScrollEnd,!1)):(x.scrollendtrapped&&clearTimeout(x.scrollendtrapped),x.scrollendtrapped=setTimeout(x.onScrollEnd,i)),x.timerscroll={bz:new BezierClass(s,x.newscrolly,i,0,0,.58,1),bh:new BezierClass(n,x.newscrollx,i,0,0,.58,1)},x.cursorfreezed||(x.timerscroll.tm=setInterval(function(){x.showCursor(x.getScrollTop(),x.getScrollLeft())},60))),x.synched("doScroll-set",function(){x.timer=0,x.scrollendtrapped&&(x.scrollrunning=!0),x.setScrollTop(x.newscrolly),x.setScrollLeft(x.newscrollx),x.scrollendtrapped||x.onScrollEnd()})},50)))},this.cancelScroll=function(){if(!x.scrollendtrapped)return!0;var t=x.getScrollTop(),e=x.getScrollLeft();return x.scrollrunning=!1,y.transitionend||clearTimeout(y.transitionend),x.scrollendtrapped=!1,x._unbind(x.doc,y.transitionend,x.onScrollEnd),x.prepareTransition(0),x.setScrollTop(t),x.railh&&x.setScrollLeft(e),x.timerscroll&&x.timerscroll.tm&&clearInterval(x.timerscroll.tm),x.timerscroll=!1,x.cursorfreezed=!1,x.showCursor(t,e),x},this.onScrollEnd=function(){x.scrollendtrapped&&x._unbind(x.doc,y.transitionend,x.onScrollEnd),x.scrollendtrapped=!1,x.prepareTransition(0),x.timerscroll&&x.timerscroll.tm&&clearInterval(x.timerscroll.tm),x.timerscroll=!1;var t=x.getScrollTop(),e=x.getScrollLeft();return x.setScrollTop(t),x.railh&&x.setScrollLeft(e),x.noticeCursor(!1,t,e),x.cursorfreezed=!1,0>t?t=0:t>x.page.maxh&&(t=x.page.maxh),0>e?e=0:e>x.page.maxw&&(e=x.page.maxw),t!=x.newscrolly||e!=x.newscrollx?x.doScrollPos(e,t,x.opt.snapbackspeed):(x.onscrollend&&x.scrollrunning&&x.onscrollend.call(x,{type:"scrollend",current:{x:e,y:t},end:{x:x.newscrollx,y:x.newscrolly}}),void(x.scrollrunning=!1))}):(this.doScrollLeft=function(t,e){var i=x.scrollrunning?x.newscrolly:x.getScrollTop();x.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=x.scrollrunning?x.newscrollx:x.getScrollLeft();x.doScrollPos(i,t,e)},this.doScrollPos=function(t,e,i){function o(){if(x.cancelAnimationFrame)return!0;if(x.scrollrunning=!0,u=1-u)return x.timer=h(o)||1;var t=0,e=sy=x.getScrollTop();if(x.dst.ay){var e=x.bzscroll?x.dst.py+x.bzscroll.getNow()*x.dst.ay:x.newscrolly,i=e-sy;(0>i&&e<x.newscrolly||i>0&&e>x.newscrolly)&&(e=x.newscrolly),x.setScrollTop(e),e==x.newscrolly&&(t=1)}else t=1;var s=sx=x.getScrollLeft();x.dst.ax?(s=x.bzscroll?x.dst.px+x.bzscroll.getNow()*x.dst.ax:x.newscrollx,i=s-sx,(0>i&&s<x.newscrollx||i>0&&s>x.newscrollx)&&(s=x.newscrollx),x.setScrollLeft(s),s==x.newscrollx&&(t+=1)):t+=1,2==t?(x.timer=0,x.cursorfreezed=!1,x.bzscroll=!1,x.scrollrunning=!1,0>e?e=0:e>x.page.maxh&&(e=x.page.maxh),0>s?s=0:s>x.page.maxw&&(s=x.page.maxw),s!=x.newscrollx||e!=x.newscrolly?x.doScrollPos(s,e):x.onscrollend&&x.onscrollend.call(x,{type:"scrollend",current:{x:sx,y:sy},end:{x:x.newscrollx,y:x.newscrolly}})):x.timer=h(o)||1}if(e="undefined"==typeof e||!1===e?x.getScrollTop(!0):e,x.timer&&x.newscrolly==e&&x.newscrollx==t)return!0;x.timer&&c(x.timer),x.timer=0;var s=x.getScrollTop(),n=x.getScrollLeft();(0>(x.newscrolly-s)*(e-s)||0>(x.newscrollx-n)*(t-n))&&x.cancelScroll(),x.newscrolly=e,x.newscrollx=t,x.bouncescroll&&x.rail.visibility||(0>x.newscrolly?x.newscrolly=0:x.newscrolly>x.page.maxh&&(x.newscrolly=x.page.maxh)),x.bouncescroll&&x.railh.visibility||(0>x.newscrollx?x.newscrollx=0:x.newscrollx>x.page.maxw&&(x.newscrollx=x.page.maxw)),x.dst={},x.dst.x=t-n,x.dst.y=e-s,x.dst.px=n,x.dst.py=s;var a=Math.round(Math.sqrt(Math.pow(x.dst.x,2)+Math.pow(x.dst.y,2)));x.dst.ax=x.dst.x/a,x.dst.ay=x.dst.y/a;var l=0,r=a;if(0==x.dst.x?(l=s,r=e,x.dst.ay=1,x.dst.py=0):0==x.dst.y&&(l=n,r=t,x.dst.ax=1,x.dst.px=0),a=x.getTransitionSpeed(a),i&&1>=i&&(a*=i),x.bzscroll=a>0?x.bzscroll?x.bzscroll.update(r,a):new BezierClass(l,r,a,0,1,0,1):!1,!x.timer){(s==x.page.maxh&&e>=x.page.maxh||n==x.page.maxw&&t>=x.page.maxw)&&x.checkContentSize();var u=1;x.cancelAnimationFrame=!1,x.timer=1,x.onscrollstart&&!x.scrollrunning&&x.onscrollstart.call(x,{type:"scrollstart",current:{x:n,y:s},request:{x:t,y:e},end:{x:x.newscrollx,y:x.newscrolly},speed:a}),o(),(s==x.page.maxh&&e>=s||n==x.page.maxw&&t>=n)&&x.checkContentSize(),x.noticeCursor()}},this.cancelScroll=function(){return x.timer&&c(x.timer),x.timer=0,x.bzscroll=!1,x.scrollrunning=!1,x}):(this.doScrollLeft=function(t,e){var i=x.getScrollTop();x.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=x.getScrollLeft();x.doScrollPos(i,t,e)},this.doScrollPos=function(t,e,i){var o=t>x.page.maxw?x.page.maxw:t;0>o&&(o=0);var s=e>x.page.maxh?x.page.maxh:e;0>s&&(s=0),x.synched("scroll",function(){x.setScrollTop(s),x.setScrollLeft(o)})},this.cancelScroll=function(){}),this.doScrollBy=function(t,e){var i=0,i=e?Math.floor((x.scroll.y-t)*x.scrollratio.y):(x.timer?x.newscrolly:x.getScrollTop(!0))-t;if(x.bouncescroll){var o=Math.round(x.view.h/2);-o>i?i=-o:i>x.page.maxh+o&&(i=x.page.maxh+o)}return x.cursorfreezed=!1,py=x.getScrollTop(!0),0>i&&0>=py?x.noticeCursor():i>x.page.maxh&&py>=x.page.maxh?(x.checkContentSize(),x.noticeCursor()):void x.doScrollTop(i)},this.doScrollLeftBy=function(t,e){var i=0,i=e?Math.floor((x.scroll.x-t)*x.scrollratio.x):(x.timer?x.newscrollx:x.getScrollLeft(!0))-t;if(x.bouncescroll){var o=Math.round(x.view.w/2);-o>i?i=-o:i>x.page.maxw+o&&(i=x.page.maxw+o)}return x.cursorfreezed=!1,px=x.getScrollLeft(!0),0>i&&0>=px||i>x.page.maxw&&px>=x.page.maxw?x.noticeCursor():void x.doScrollLeft(i)},this.doScrollTo=function(t,e){e&&Math.round(t*x.scrollratio.y),x.cursorfreezed=!1,x.doScrollTop(t)},this.checkContentSize=function(){var t=x.getContentSize();(t.h!=x.page.h||t.w!=x.page.w)&&x.resize(!1,t)},x.onscroll=function(t){x.rail.drag||x.cursorfreezed||x.synched("scroll",function(){x.scroll.y=Math.round(x.getScrollTop()*(1/x.scrollratio.y)),x.railh&&(x.scroll.x=Math.round(x.getScrollLeft()*(1/x.scrollratio.x))),x.noticeCursor()})},x.bind(x.docscroll,"scroll",x.onscroll),this.doZoomIn=function(e){if(!x.zoomactive){x.zoomactive=!0,x.zoomrestore={style:{}};var i,o="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),s=x.win[0].style;for(i in o){var a=o[i];x.zoomrestore.style[a]="undefined"!=typeof s[a]?s[a]:""}return x.zoomrestore.style.width=x.win.css("width"),x.zoomrestore.style.height=x.win.css("height"),x.zoomrestore.padding={w:x.win.outerWidth()-x.win.width(),h:x.win.outerHeight()-x.win.height()},y.isios4&&(x.zoomrestore.scrollTop=t(window).scrollTop(),t(window).scrollTop(0)),x.win.css({position:y.isios4?"absolute":"fixed",top:0,left:0,"z-index":n+100,margin:"0px"}),o=x.win.css("backgroundColor"),(""==o||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(o))&&x.win.css("backgroundColor","#fff"),x.rail.css({"z-index":n+101}),x.zoom.css({"z-index":n+102}),x.zoom.css("backgroundPosition","0px -18px"),x.resizeZoom(),x.onzoomin&&x.onzoomin.call(x),x.cancelEvent(e)}},this.doZoomOut=function(e){return x.zoomactive?(x.zoomactive=!1,x.win.css("margin",""),x.win.css(x.zoomrestore.style),y.isios4&&t(window).scrollTop(x.zoomrestore.scrollTop),x.rail.css({"z-index":x.zindex}),x.zoom.css({"z-index":x.zindex}),x.zoomrestore=!1,x.zoom.css("backgroundPosition","0px 0px"),x.onResize(),x.onzoomout&&x.onzoomout.call(x),x.cancelEvent(e)):void 0},this.doZoom=function(t){return x.zoomactive?x.doZoomOut(t):x.doZoomIn(t)},this.resizeZoom=function(){if(x.zoomactive){var e=x.getScrollTop();x.win.css({width:t(window).width()-x.zoomrestore.padding.w+"px",height:t(window).height()-x.zoomrestore.padding.h+"px"}),x.onResize(),x.setScrollTop(Math.min(x.page.maxh,e))}},this.init(),t.nicescroll.push(this)},b=function(t){var e=this;this.nc=t,this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0,this.snapy=this.snapx=!1,this.demuly=this.demulx=0,this.lastscrolly=this.lastscrollx=-1,this.timer=this.chky=this.chkx=0,this.time=function(){return+new Date},this.reset=function(t,i){e.stop();var o=e.time();e.steptime=0,e.lasttime=o,e.speedx=0,e.speedy=0,e.lastx=t,e.lasty=i,e.lastscrollx=-1,e.lastscrolly=-1},this.update=function(t,i){var o=e.time();e.steptime=o-e.lasttime,e.lasttime=o;var o=i-e.lasty,s=t-e.lastx,n=e.nc.getScrollTop(),a=e.nc.getScrollLeft(),n=n+o,a=a+s;e.snapx=0>a||a>e.nc.page.maxw,e.snapy=0>n||n>e.nc.page.maxh,e.speedx=s,e.speedy=o,e.lastx=t,e.lasty=i},this.stop=function(){e.nc.unsynched("domomentum2d"),e.timer&&clearTimeout(e.timer),e.timer=0,e.lastscrollx=-1,e.lastscrolly=-1},this.doSnapy=function(t,i){var o=!1;0>i?(i=0,o=!0):i>e.nc.page.maxh&&(i=e.nc.page.maxh,o=!0),0>t?(t=0,o=!0):t>e.nc.page.maxw&&(t=e.nc.page.maxw,o=!0),o&&e.nc.doScrollPos(t,i,e.nc.opt.snapbackspeed)},this.doMomentum=function(t){var i=e.time(),o=t?i+t:e.lasttime;t=e.nc.getScrollLeft();var s=e.nc.getScrollTop(),n=e.nc.page.maxh,a=e.nc.page.maxw;if(e.speedx=a>0?Math.min(60,e.speedx):0,e.speedy=n>0?Math.min(60,e.speedy):0,o=o&&60>=i-o,(0>s||s>n||0>t||t>a)&&(o=!1),t=e.speedx&&o?e.speedx:!1,e.speedy&&o&&e.speedy||t){var l=Math.max(16,e.steptime);l>50&&(t=l/50,e.speedx*=t,e.speedy*=t,l=50),e.demulxy=0,e.lastscrollx=e.nc.getScrollLeft(),e.chkx=e.lastscrollx,e.lastscrolly=e.nc.getScrollTop(),e.chky=e.lastscrolly;var r=e.lastscrollx,h=e.lastscrolly,c=function(){var t=600<e.time()-i?.04:.02;e.speedx&&(r=Math.floor(e.lastscrollx-e.speedx*(1-e.demulxy)),e.lastscrollx=r,0>r||r>a)&&(t=.1),e.speedy&&(h=Math.floor(e.lastscrolly-e.speedy*(1-e.demulxy)),e.lastscrolly=h,0>h||h>n)&&(t=.1),e.demulxy=Math.min(1,e.demulxy+t),e.nc.synched("domomentum2d",function(){e.speedx&&(e.nc.getScrollLeft()!=e.chkx&&e.stop(),e.chkx=r,e.nc.setScrollLeft(r)),e.speedy&&(e.nc.getScrollTop()!=e.chky&&e.stop(),e.chky=h,e.nc.setScrollTop(h)),e.timer||(e.nc.hideCursor(),e.doSnapy(r,h))}),1>e.demulxy?e.timer=setTimeout(c,l):(e.stop(),e.nc.hideCursor(),e.doSnapy(r,h))};c()}else e.doSnapy(e.nc.getScrollLeft(),e.nc.getScrollTop())}},x=t.fn.scrollTop;t.cssHooks.pageYOffset={get:function(e,i,o){return(i=t.data(e,"__nicescroll")||!1)&&i.ishwscroll?i.getScrollTop():x.call(e)},set:function(e,i){var o=t.data(e,"__nicescroll")||!1;return o&&o.ishwscroll?o.setScrollTop(parseInt(i)):x.call(e,i),this}},t.fn.scrollTop=function(e){if("undefined"==typeof e){var i=this[0]?t.data(this[0],"__nicescroll")||!1:!1;return i&&i.ishwscroll?i.getScrollTop():x.call(this)}return this.each(function(){var i=t.data(this,"__nicescroll")||!1;i&&i.ishwscroll?i.setScrollTop(parseInt(e)):x.call(t(this),e)})};var w=t.fn.scrollLeft;t.cssHooks.pageXOffset={get:function(e,i,o){return(i=t.data(e,"__nicescroll")||!1)&&i.ishwscroll?i.getScrollLeft():w.call(e)},set:function(e,i){var o=t.data(e,"__nicescroll")||!1;return o&&o.ishwscroll?o.setScrollLeft(parseInt(i)):w.call(e,i),this}},t.fn.scrollLeft=function(e){if("undefined"==typeof e){var i=this[0]?t.data(this[0],"__nicescroll")||!1:!1;return i&&i.ishwscroll?i.getScrollLeft():w.call(this)}return this.each(function(){var i=t.data(this,"__nicescroll")||!1;i&&i.ishwscroll?i.setScrollLeft(parseInt(e)):w.call(t(this),e)})};var y=function(e){var i=this;if(this.length=0,this.name="nicescrollarray",this.each=function(t){for(var e=0,o=0;e<i.length;e++)t.call(i[e],o++);return i},this.push=function(t){i[i.length]=t,i.length++},this.eq=function(t){return i[t]},e)for(a=0;a<e.length;a++){var o=t.data(e[a],"__nicescroll")||!1;o&&(this[this.length]=o,this.length++)}return this};!function(t,e,i){for(var o=0;o<e.length;o++)i(t,e[o])}(y.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" "),function(t,e){t[e]=function(){var t=arguments;return this.each(function(){this[e].apply(this,t)})}}),t.fn.getNiceScroll=function(e){return"undefined"==typeof e?new y(this):this[e]&&t.data(this[e],"__nicescroll")||!1},t.extend(t.expr[":"],{nicescroll:function(e){return t.data(e,"__nicescroll")?!0:!1}}),t.fn.niceScroll=function(e,i){"undefined"==typeof i&&"object"==typeof e&&!("jquery"in e)&&(i=e,e=!1);var o=new y;"undefined"==typeof i&&(i={}),e&&(i.doc=t(e),i.win=t(this));var s=!("doc"in i);return!s&&!("win"in i)&&(i.win=t(this)),this.each(function(){var e=t(this).data("__nicescroll")||!1;e||(i.doc=s?t(this):i.doc,e=new v(i,t(this)),t(this).data("__nicescroll",e)),o.push(e)}),1==o.length?o[0]:o},window.NiceScroll={getjQuery:function(){return t}},t.nicescroll||(t.nicescroll=new y,t.nicescroll.options=f)}(jQuery);